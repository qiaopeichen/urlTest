window.__require=function e(t,o,a){function n(i,c){if(!o[i]){if(!t[i]){var s=i.split("/");if(s=s[s.length-1],!t[s]){var r="function"==typeof __require&&__require;if(!c&&r)return r(s,!0);if(l)return l(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var d=o[i]={exports:{}};t[i][0].call(d.exports,function(e){return n(t[i][1][e]||e)},d,d.exports,e,t,o,a)}return o[i].exports}for(var l="function"==typeof __require&&__require,i=0;i<a.length;i++)n(a[i]);return n}({AdUtils:[function(e,t,o){"use strict";cc._RF.push(t,"e3906pxQVpOFY59aKbr9Gtk","AdUtils");var a=e("ConstValue"),n=e("PlatformBridge"),l={subgameExitLastTime:{},updateSubgameExitTime:function(e){this.isExitFromSubgame=!0;var t=window.performance.now();this.subgameExitLastTime[e]=t,console.log("AdUtils.updateSubgameExitTime gameId:"+e+", curElapsedTime:"+t)},showSubgameSplashAd:function(e){if(cc.sys.platform==cc.sys.ANDROID&&Global.appVersionCode<1040200)console.log("AdUtils.showSubgameSplashAd showSplashAd support ver 1.4.2");else{var t=window.performance.now(),o=this.subgameExitLastTime[e]?this.subgameExitLastTime[e]:0;console.log("AdUtils.showSubgameSplashAd curElapsedTime: "+t+", gameId: "+e+", subgameExitLastTime: "+o+", HuluDoneIndex: "+DataModel.getHuluDoneIndex()),DataModel.getHuluDoneIndex()>=1&&Math.abs(t-o)>3e4&&(console.log("AdUtils.showSubgameSplashAd showSplashAd"),n.showSplashAd(a.AdScene.LaunchSubgame,a.AdId.SubgameSplash))}},interstitialAdLastTime:0,interstitialAdCloseLastTime:0,interstitialAdInterval:36e4,interstitialAdTimer:void 0,interstitialAdFirstDelayTime:36e4,interstitialAdExitSubGameDelayTime:18e4,interstitialAdIsShowing:!1,isFirstStart:!0,isExitFromSubgame:!1,setinterstitialAdParams:function(e,t,o){console.log("AdUtils.setinterstitialAdParams firstDelayTime: "+e+", exitSubGameDelayTime: "+t+", interval:"+o),"number"==typeof e&&(this.interstitialAdFirstDelayTime=e),"number"==typeof t&&(this.interstitialAdExitSubGameDelayTime=t),"number"==typeof o&&(this.interstitialAdInterval=o)},onInterstitialAdCallback:function(e,t){console.log("AdUtils.onInterstitialAdCallback success: "+e+", scene: "+t),t==a.AdScene.XiGuaInterstitial&&(e||(this.interstitialAdIsShowing=!1,this.setInterstitialAdTimer(this.interstitialAdInterval)))},onInterstitialAdDismissCallback:function(e){console.log("AdUtils.onInterstitialAdDismissCallback scene: "+e),e==a.AdScene.XiGuaInterstitial&&(this.interstitialAdCloseLastTime=window.performance.now(),this.interstitialAdIsShowing=!1,this.setInterstitialAdTimer(this.interstitialAdInterval))},tryShowInterstitialAdQuickly:function(){window.performance.now()-this.interstitialAdCloseLastTime>this.interstitialAdExitSubGameDelayTime&&this.showInterstitialAd()},showInterstitialAd:function(){if(console.log("AdUtils.showInterstitialAd ad is showing: "+this.interstitialAdIsShowing),!this.interstitialAdIsShowing){this.interstitialAdLastTime=window.performance.now();var e=parseInt(.8*cc.view.getFrameSize().width),t=parseInt(3*e/2);console.log("zhaowei showInterstitialAd: adWidth:"+e+", adHeight:"+t),n.showInterstitialAd(a.AdScene.XiGuaInterstitial,a.AdId.XiGuaInterstitial,e,t),this.interstitialAdIsShowing=!0}},showInterstitialAdWhenExitSubgame:function(){console.log("AdUtils.showInterstitialAdWhenExitSubgame isExitFromSubgame: "+this.isExitFromSubgame),this.isExitFromSubgame&&(this.isExitFromSubgame=!1,0==this.interstitialAdExitSubGameDelayTime?l.showInterstitialAd():this.setInterstitialAdTimer(this.interstitialAdExitSubGameDelayTime))},showInterstitialAdIfNeeded:function(){var e;this.isFirstStart?(e=this.interstitialAdFirstDelayTime,this.isFirstStart=!1):e=this.interstitialAdInterval,this.interstitialAdTimer||this.setInterstitialAdTimer(e)},setInterstitialAdTimer:function(e){this.clearInterstitialAdTimer(),console.log("AdUtils.setInterstitialAdTimer timeout: "+e),this.interstitialAdTimer=function(){console.log("AdUtils.setInterstitialAdTimer go!"),l.interstitialAdTimer=void 0,l.showInterstitialAd()},Global.ScriptWatermelon&&Global.ScriptWatermelon.scheduleOnce(this.interstitialAdTimer,e/1e3)},clearInterstitialAdTimer:function(){console.log("AdUtils.clearInterstitialAdTimer interstitialAdTimer: "+this.interstitialAdTimer),this.interstitialAdTimer&&(Global.ScriptWatermelon&&Global.ScriptWatermelon.unschedule(this.interstitialAdTimer),this.interstitialAdTimer=void 0)}};t.exports=l,cc._RF.pop()},{ConstValue:"ConstValue",PlatformBridge:"PlatformBridge"}],AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"b561fB2inFKfb/PGjnIpSV7","AudioManager");var a=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function a(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}}(),n=this&&this.__decorate||function(e,t,o,a){var n,l=arguments.length,i=l<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(l<3?n(i):l>3?n(t,o,i):n(t,o))||i);return l>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,i=l.ccclass,c=l.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dropClip=null,t.leveUpClip=null,t}return a(t,e),t.prototype.start=function(){var e=this;cc.game.on("game-ball-drop",function(){cc.audioEngine.playEffect(e.dropClip,!1)}),cc.game.on("game-ball-levelup",function(){cc.audioEngine.playEffect(e.leveUpClip,!1)})},n([c({type:cc.AudioClip})],t.prototype,"dropClip",void 0),n([c({type:cc.AudioClip})],t.prototype,"leveUpClip",void 0),t=n([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],AutoRotationSc:[function(e,t,o){"use strict";cc._RF.push(t,"f8cc9TbhXtP8KO4rqgN1AO4","AutoRotationSc");var a=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function a(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}}(),n=this&&this.__decorate||function(e,t,o,a){var n,l=arguments.length,i=l<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(l<3?n(i):l>3?n(t,o,i):n(t,o))||i);return l>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,i=l.ccclass,c=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.update=function(e){this.node.angle+=100*e},t=n([i],t)}(cc.Component));o.default=c,cc._RF.pop()},{}],BallSc:[function(e,t,o){"use strict";cc._RF.push(t,"78865+Mpe5EM6BE/wT+qO8t","BallSc");var a=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function a(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}}(),n=this&&this.__decorate||function(e,t,o,a){var n,l=arguments.length,i=l<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(l<3?n(i):l>3?n(t,o,i):n(t,o))||i);return l>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var l=e("./GameSc"),i=cc._decorator,c=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dropClip=null,t.BallIndex=1,t.isNotCheckOver=!1,t.isDrop=!1,t}var o;return a(t,e),o=t,t.prototype.start=function(){this.getComponent(cc.PhysicsCollider).restitution=.1},t.prototype.onBeginContact=function(e,t,a){if(a.getComponent(o)){if(this.isNotCheckOver=!0,!cc.find("Canvas/GameSc").getComponent(l.default).createEndlessBallDone){var n=t,i=a;if(a.node.y<=t.node.y&&(n=a,i=t),!cc.find("Canvas/GameSc").getComponent(l.default).checkEndlessBallHigh(n.node,i.node))return}if(!cc.find("Canvas/GameSc").getComponent(l.default).canBeginContact)return void(a.getComponent(o).BallIndex==t.getComponent(o).BallIndex&&cc.tween(a.node).to(.15,{scale:0}).removeSelf().start());if(a.getComponent(o).BallIndex==t.getComponent(o).BallIndex){n=t,i=a;a.node.y<=t.node.y&&(n=a,i=t),cc.find("Canvas/GameSc").getComponent(l.default).BallLevelUp(n.node,i.node)&&i.node.removeComponent(o)}else if(99==a.getComponent(o).BallIndex&&99!=t.getComponent(o).BallIndex||99!=a.getComponent(o).BallIndex&&99==t.getComponent(o).BallIndex){n=a,i=t;cc.find("Canvas/GameSc").getComponent(l.default).BallLevelUp(n.node,i.node)&&i.node.removeComponent(o)}else if(100==a.getComponent(o).BallIndex||100==t.getComponent(o).BallIndex){n=a,i=t;cc.find("Canvas/GameSc").getComponent(l.default).BallLevelUp(n.node,i.node)&&i.node.removeComponent(o)}}else this.isDrop||(this.isDrop=!0,cc.game.emit("game-ball-drop"))},n([s(cc.AudioClip)],t.prototype,"dropClip",void 0),n([s],t.prototype,"BallIndex",void 0),t=o=n([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{"./GameSc":"GameSc"}],BallThemeSc:[function(e,t,o){"use strict";cc._RF.push(t,"74c45qznJ1CPZfT4xLhi0kZ","BallThemeSc");var a=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function a(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}}(),n=this&&this.__decorate||function(e,t,o,a){var n,l=arguments.length,i=l<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(l<3?n(i):l>3?n(t,o,i):n(t,o))||i);return l>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,i=l.ccclass,c=l.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pic=null,t}return a(t,e),t.prototype.start=function(){},t.prototype.setTheme=function(e,t){var o="watermelon/theme"+e+"_"+t;console.log("setBallTheme:",o),this.loadSpriteFrame(o,this.pic)},t.prototype.loadSpriteFrame=function(e,t){e&&e.length>0&&t&&cc.resources.load(e,cc.SpriteFrame,function(e,o){e||(t.spriteFrame=o)})},n([c(cc.Sprite)],t.prototype,"pic",void 0),t=n([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ButtonScaler:[function(e,t,o){"use strict";cc._RF.push(t,"dcadbT919ZLSrAcbryRB2h8","ButtonScaler"),cc.Class({extends:cc.Component,properties:{pressedScale:.8,transDuration:.1},onLoad:function(){var e=this;function t(t){this.stopAllActions(),this.runAction(e.scaleUpAction)}e.initScale=this.node.scale,e.button=e.getComponent(cc.Button),e.scaleDownAction=cc.scaleTo(e.transDuration,e.pressedScale),e.scaleUpAction=cc.scaleTo(e.transDuration,e.initScale),this.node.on("touchstart",function(t){this.stopAllActions(),this.runAction(e.scaleDownAction)},this.node),this.node.on("touchend",t,this.node),this.node.on("touchcancel",t,this.node)}}),cc._RF.pop()},{}],ChooseThemeSc:[function(e,t,o){"use strict";cc._RF.push(t,"9a72c7pT4dOZIZOCmCpp7EZ","ChooseThemeSc");var a=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function a(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}}(),n=this&&this.__decorate||function(e,t,o,a){var n,l=arguments.length,i=l<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(l<3?n(i):l>3?n(t,o,i):n(t,o))||i);return l>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var l=e("Toast"),i=e("PlatformBridge"),c=e("ConstValue"),s=cc._decorator,r=s.ccclass,d=s.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.tips=null,t.pageView=null,t.difficultTitle=null,t.difficultLevel=null,t.difficultStar1=null,t.difficultStar2=null,t.difficultStar3=null,t.difficultStar4=null,t.difficultStar5=null,t.nodeTheme01Unlock=null,t.nodeTheme02Unlock=null,t.nodeTheme03Unlock=null,t.nodeTheme04Unlock=null,t.gameBackGround=null,t.chooseThemeRedDot=null,t.theme01unlock=0,t.theme02unlock=0,t.theme03unlock=0,t.theme04unlock=0,t}return a(t,e),t.prototype.onLoad=function(){this.pageView.node.on("scroll-ended",this.callback,this)},t.prototype.callback=function(e){var t=this.pageView.getCurrentPageIndex();switch(console.log("scroll-ended-> ",t),this.refreshDifficultStars(t),t){case 0:this.title.string="\u9ed8\u8ba4\u7ecf\u5178",this.tips.string="",this.difficultTitle.string="";break;case 1:this.title.string="\u76db\u590f\u6d77\u8fb9\uff08\u80cc\u666f\uff09",this.tips.string="",this.difficultTitle.string="\u8fde\u7eed2\u5929\u5408\u6210\u5927\u897f\u74dc\u53ef\u89e3\u9501";break;case 2:this.title.string="\u51ac\u65e5\u7269\u8bed\uff08\u80cc\u666f\uff09",this.tips.string="",this.difficultTitle.string="\u7d2f\u8ba1\u5408\u621010\u4e2a\u5927\u897f\u74dc\u53ef\u89e3\u9501";break;case 3:this.title.string="\u6625\u610f\u76ce\u7136\uff08\u4e3b\u9898\uff09",this.tips.string="\u4f60\u6700\u559c\u6b22\u54ea\u79cd\u7403\u7c7b\u8fd0\u52a8\uff1f",this.difficultTitle.string="\u5355\u573a\u8fbe\u52302000\u5206\u53ef\u89e3\u9501";break;case 4:this.title.string="\u63a2\u7d22\u5b87\u5b99\uff08\u4e3b\u9898\uff09",this.tips.string="\u770b\u592a\u9633\u7cfb\u661f\u7403\u5927\u78b0\u649e",this.difficultTitle.string="\u7d2f\u8ba1\u5408\u621050\u4e2a\u5c0f\u8461\u8404\u53ef\u89e3\u9501"}},t.prototype.onEnable=function(){this.pageView.scrollToPage(0,0),this.callback(this.pageView),this.checkThemeUnlock()},t.prototype.checkThemeUnlock=function(){this.theme01unlock=cc.sys.localStorage.getItem("theme01unlock"),this.theme02unlock=cc.sys.localStorage.getItem("theme02unlock"),this.theme03unlock=cc.sys.localStorage.getItem("theme03unlock"),this.theme04unlock=cc.sys.localStorage.getItem("theme04unlock"),this.nodeTheme01Unlock.active=1!=this.theme01unlock,this.nodeTheme02Unlock.active=1!=this.theme02unlock,this.nodeTheme03Unlock.active=1!=this.theme03unlock,this.nodeTheme04Unlock.active=1!=this.theme04unlock},t.prototype.refreshDifficultStars=function(e){this.difficultLevel.active=e>=1,this.difficultStar1.active=e>=1,this.difficultStar2.active=e>=1,this.difficultStar3.active=e>=2,this.difficultStar4.active=e>=3,this.difficultStar5.active=e>=4},t.prototype.onClickUseButton=function(){var e=this.pageView.getCurrentPageIndex(),t=cc.sys.localStorage.getItem("currentUseTheme");t||(t=0);var o=e;if(e==t)return l("\u60a8\u5f53\u524d\u6b63\u5728\u4f7f\u7528\u6b64\u4e3b\u9898\uff01",{gravity:"BOTTOM"}),void i.onEventLabel(c.EVENT_MAIN.WatermelonClickThemeBtnUse+o,c.EVENT_MAIN.UseThemeNowWaring);var a="";switch(e){case 0:a="watermelon/theme0_bg",this.loadSpriteFrame(a,this.gameBackGround),this.onClickBackButton(),l("\u5df2\u5207\u6362 \u9ed8\u8ba4\u7ecf\u5178",{gravity:"BOTTOM"}),cc.sys.localStorage.setItem("currentUseTheme",e),i.onEventLabel(c.EVENT_MAIN.WatermelonClickThemeBtnUse+o,c.EVENT_MAIN.UseThemeSuccess);break;case 1:this.theme01unlock?(a="watermelon/theme1_bg",this.loadSpriteFrame(a,this.gameBackGround),this.onClickBackButton(),l("\u5df2\u5207\u6362 \u76db\u590f\u6d77\u8fb9\uff08\u80cc\u666f\uff09",{gravity:"BOTTOM"}),cc.sys.localStorage.setItem("currentUseTheme",e),i.onEventLabel(c.EVENT_MAIN.WatermelonClickThemeBtnUse+o,c.EVENT_MAIN.UseThemeSuccess)):(l("\u8fd8\u672a\u8fbe\u5230\u89e3\u9501\u6761\u4ef6\uff01",{gravity:"BOTTOM"}),i.onEventLabel(c.EVENT_MAIN.WatermelonClickThemeBtnUse+o,c.EVENT_MAIN.UseThemeFail));break;case 2:this.theme02unlock?(a="watermelon/theme2_bg",this.loadSpriteFrame(a,this.gameBackGround),this.onClickBackButton(),l("\u5df2\u5207\u6362 \u51ac\u65e5\u7269\u8bed\uff08\u80cc\u666f\uff09",{gravity:"BOTTOM"}),cc.sys.localStorage.setItem("currentUseTheme",e),i.onEventLabel(c.EVENT_MAIN.WatermelonClickThemeBtnUse+o,c.EVENT_MAIN.UseThemeSuccess)):(l("\u8fd8\u672a\u8fbe\u5230\u89e3\u9501\u6761\u4ef6\uff01",{gravity:"BOTTOM"}),i.onEventLabel(c.EVENT_MAIN.WatermelonClickThemeBtnUse+o,c.EVENT_MAIN.UseThemeFail));break;case 3:this.theme03unlock?(a="watermelon/theme3_bg",this.loadSpriteFrame(a,this.gameBackGround),this.onClickBackButton(),l("\u5df2\u5207\u6362 \u6625\u610f\u76ce\u7136\uff08\u4e3b\u9898\uff09",{gravity:"BOTTOM"}),cc.sys.localStorage.setItem("currentUseTheme",e),i.onEventLabel(c.EVENT_MAIN.WatermelonClickThemeBtnUse+o,c.EVENT_MAIN.UseThemeSuccess)):(l("\u8fd8\u672a\u8fbe\u5230\u89e3\u9501\u6761\u4ef6\uff01",{gravity:"BOTTOM"}),i.onEventLabel(c.EVENT_MAIN.WatermelonClickThemeBtnUse+o,c.EVENT_MAIN.UseThemeFail));break;case 4:this.theme04unlock?(a="watermelon/theme4_bg",this.loadSpriteFrame(a,this.gameBackGround),this.onClickBackButton(),l("\u5df2\u5207\u6362 \u63a2\u7d22\u5b87\u5b99\uff08\u4e3b\u9898\uff09",{gravity:"BOTTOM"}),cc.sys.localStorage.setItem("currentUseTheme",e),i.onEventLabel(c.EVENT_MAIN.WatermelonClickThemeBtnUse+o,c.EVENT_MAIN.UseThemeSuccess)):(l("\u8fd8\u672a\u8fbe\u5230\u89e3\u9501\u6761\u4ef6\uff01",{gravity:"BOTTOM"}),i.onEventLabel(c.EVENT_MAIN.WatermelonClickThemeBtnUse+o,c.EVENT_MAIN.UseThemeFail))}},t.prototype.onClickBackButton=function(){this.node.active=!1},t.prototype.onClickOpenButton=function(){cc.sys.localStorage.setItem("newthemeunlock",0),this.node.active=!0,this.chooseThemeRedDot.active=!1,i.onEventLabel(c.EVENT_MAIN.WatermelonClick,c.EVENT_MAIN.WatermelonClickTheme)},t.prototype.onDestroy=function(){this.pageView&&this.pageView.node&&this.pageView.node.off("scroll-ended",this.callback,this)},t.prototype.loadSpriteFrame=function(e,t){e&&e.length>0&&t&&cc.resources.load(e,cc.SpriteFrame,function(e,o){e||(t.spriteFrame=o)})},n([d(cc.Label)],t.prototype,"title",void 0),n([d(cc.Label)],t.prototype,"tips",void 0),n([d(cc.PageView)],t.prototype,"pageView",void 0),n([d(cc.Label)],t.prototype,"difficultTitle",void 0),n([d(cc.Node)],t.prototype,"difficultLevel",void 0),n([d(cc.Node)],t.prototype,"difficultStar1",void 0),n([d(cc.Node)],t.prototype,"difficultStar2",void 0),n([d(cc.Node)],t.prototype,"difficultStar3",void 0),n([d(cc.Node)],t.prototype,"difficultStar4",void 0),n([d(cc.Node)],t.prototype,"difficultStar5",void 0),n([d(cc.Node)],t.prototype,"nodeTheme01Unlock",void 0),n([d(cc.Node)],t.prototype,"nodeTheme02Unlock",void 0),n([d(cc.Node)],t.prototype,"nodeTheme03Unlock",void 0),n([d(cc.Node)],t.prototype,"nodeTheme04Unlock",void 0),n([d(cc.Sprite)],t.prototype,"gameBackGround",void 0),n([d(cc.Node)],t.prototype,"chooseThemeRedDot",void 0),t=n([r],t)}(cc.Component);o.default=h,cc._RF.pop()},{ConstValue:"ConstValue",PlatformBridge:"PlatformBridge",Toast:"Toast"}],ConstValue:[function(e,t,o){"use strict";cc._RF.push(t,"dfe0b5Tz19FXJE9j7+ZQV6t","ConstValue");var a=e("ConstValue");t.exports.TEST_WITHDRAW_URL="http://t-grdadm.jijia-co.com/grd/static/jineduihuan.html",t.exports.PRODUCTION_WITHDRAW_URL="http://grdadm.jijia-co.com/grd/static/jineduihuan.html",t.exports.TEST_EXCHANGE_URL="http://t-grdadm.jijia-co.com/grd/static/daojuduihuan.html",t.exports.PRODUCTION_EXCHANGE_URL="http://grdadm.jijia-co.com/grd/static/daojuduihuan.html",t.exports.TEST_WANFA_URL="http://t-grdadm.jijia-co.com/grd/static/wanfa.html",t.exports.PRODUCTION_WANFA_URL="http://grdadm.jijia-co.com/grd/static/wanfa.html",t.exports.TEST_CORN_RECODE_URL="http://t-grdadm.jijia-co.com/grd/static/jinbijilu.html",t.exports.PRODUCTION_CORN_RECODE_URL="http://grdadm.jijia-co.com/grd/static/jinbijilu.html";t.exports.getUrl=function(e,t){var o="?";if(null!=t)for(var a in t){var n=t[a];Utils.isNullOrUndefined(n)||(o+=a+"="+n+"&")}return cc.sys.isBrowser?(-1!=window.location.href.search("t-grdadm")?"http://t-grdapi.jijia-co.com/":"http://grdapi.jijia-co.com/")+e+o.substring(0,o.length-1):(Global.TestEnv?"http://t-grdapi.jijia-co.com/":"http://grdapi.jijia-co.com/")+e+o.substring(0,o.length-1)},t.exports.getWXWebUrl=function(){return Global.TestEnv?"http://t-grdadm.jijia-co.com/grd/mobile/":"http://grdadm.jijia-co.com/grd/mobile/"},t.exports.getSharetoGroupUrl=function(){return Global.TestEnv?"http://t-grdapi.jijia-co.com/gourd/link?mode=share":"http://grdapi.jijia-co.com/gourd/link?mode=share"},t.exports.getWXAuthorUrl=function(){return-1!=window.location.href.search("t-grdadm")?"http%3A%2F%2Ft-grdadm.jijia-co.com%2Fgrd%2Fmobile%2F":"http%3A%2F%2Fgrdadm.jijia-co.com%2Fgrd%2Fmobile%2F"},t.exports.getShareToWXUrl=function(e,t){var o="#";if(null!=t)for(var a in t){var n=t[a];Utils.isNullOrUndefined(n)||(o+=a+"="+n+"&")}return(-1!=window.location.href.search("t-grdadm")?"http://t-grdadm.jijia-co.com/grd/static/fenxiang.html":"http://grdadm.jijia-co.com/grd/static/fenxiang.html")+e+o.substring(0,o.length-1)},t.exports.AdId={Feed:"C176",Banner:"F191",Splash:"A167",Reward:"J188",XiGuaInterstitial:"B203"},t.exports.AdScene={TaskGameRun:"TaskGameRun",TaskGamePk:"TaskGamePk",TaskWatering:"TaskWatering",GameRunPause:"GameRunPause",GamePkBattle:"GamePkBattle",GameHitMonster:"GameHitMonster",LaunchSubgame:"LaunchSubgame",XiGuaInterstitial:"XiGuaInterstitial"},t.exports.WATER_DROP={giftBagForNovice:{cate:1,name:"\u65b0\u624b\u793c\u5305"},signInReward:{cate:2,name:"\u6bcf\u65e5\u7b7e\u5230"},cumulativeWater:{cate:3,name:"\u7d2f\u8ba1\u6d47\u6c34"},threeMealsWelfare:{cate:4,name:"\u4e09\u9910\u798f\u5229"},shareToGroup:{cate:5,name:"\u5206\u4eab\u5230\u7fa4"},seeVideo:{cate:6,name:"\u770b\u89c6\u9891"},signInRemind:{cate:7,name:"\u7b7e\u5230\u63d0\u9192"},luckeyTurnable:{cate:8,name:"\u5e78\u8fd0\u8f6c\u76d8"},friendsHelp:{cate:9,name:"\u597d\u53cb\u52a9\u529b"},timingBlessingBag:{cate:10,name:"\u5b9a\u65f6\u798f\u888b"},thunderStormCloud:{cate:11,name:"\u96f7\u96e8\u4e91"},addFriend:{cate:12,name:"\u597d\u53cb\u8d60\u4e0e"},gameAward:{cate:13,name:"\u6e38\u620f\u5956\u52b1"},offline:{cate:14,name:" "},stolenFromFriend:{cate:15,name:"\u5077\u597d\u53cb"}},t.exports.getWaterDropName=function(e){switch(e){case 1:return a.WATER_DROP.giftBagForNovice.name;case 2:return a.WATER_DROP.signInReward.name;case 3:return a.WATER_DROP.cumulativeWater.name;case 4:return a.WATER_DROP.threeMealsWelfare.name;case 5:return a.WATER_DROP.shareToGroup.name;case 6:return a.WATER_DROP.seeVideo.name;case 7:return a.WATER_DROP.signInRemind.name;case 8:return a.WATER_DROP.luckeyTurnable.name;case 9:return a.WATER_DROP.friendsHelp.name;case 10:return a.WATER_DROP.timingBlessingBag.name;case 11:return a.WATER_DROP.thunderStormCloud.name;case 12:return a.WATER_DROP.addFriend.name;case 13:return a.WATER_DROP.gameAward.name;case 14:return a.WATER_DROP.offline.name;case 15:return a.WATER_DROP.stolenFromFriend.name;default:return"\u6c34\u6ef4"}},t.exports.RED_PACKET_CASE={newUser:1,huluDone:[2,6,7,8,9,10,11],hulu2_7Done:3,huluKing:4,random:5,dailyRedpacket:12,huluGrowing:13,InviteSuccess:14},t.exports.SHARE_TO_WX_SCENE={addFriend:0,friendHelp:1,shareToWxGroup:2,messageToFriend:3,InviteToPlay:4},t.exports.HULU_TALK=["\u60f3\u770b\u6211\u53d8\u846b\u82a6\u5a03\uff0c\u591a\u7ed9\u6211\u6d47\u6c34\u5427!","\u9080\u8bf7\u597d\u53cb\u52a9\u529b\uff0c\u8f6c\u76d8\u62bd\u5956\u90fd\u80fd\u83b7\u5f97\u6c34\u6ef4\u54e6!","\u4eca\u5929\u7684\u9886\u6c34\u4efb\u52a1\u505a\u4e86\u6ca1\u6709\u554a?","\u54fc! \u6ca1\u7ed9\u6211\u6d47\u6c34\u522b\u8001\u6233\u6211\u554a!","\u6211\u597d\u60f3\u9a6c\u4e0a\u6210\u719f\u54e6!","\u786e\u8ba4\u8fc7\u773c\u795e\uff0c\u4f60\u662f\u80fd\u628a\u6211\u517b\u5927\u7684\u4eba!","\u628a\u6211\u517b\u5927\u5c31\u80fd\u9886\u7ea2\u5305\u54e6!","\u96c6\u9f50\u4e03\u5144\u5f1f\uff0c\u5408\u6210\u6709\u60ca\u559c!","\u5206\u7ea2\u846b\u82a6\u5a03\u8eba\u8d5a\u6536\u76ca\uff0c\u53bb[\u73a9\u6cd5]\u91cc\u770b\u770b\u5427!"],t.exports.RED_MARKER_MESSAGE=["\u518d\u591a\u6d47\u70b9\u6c34\u5c31\u80fd\u9886\u7ea2\u5305\u5566","\u8ddd\u79bb\u6211\u53c8\u8fd1\u4e86\u4e00\u70b9\u5462","\u6211\u5c31\u5728\u8fd9\u91cc\u9759\u9759\u5730\u7b49\u7740\u4f60","\u6d47\u6c34\u4e0d\u65ad,\u7ea2\u5305\u4e0d\u505c"];t.exports.cloneHulu=function(e){return{id:e.id,name:e.name,normalIcon:e.normalIcon,smallIcon:e.smallIcon,image:e.image,totalWater:e.totalWater,usedWater:e.usedWater,initScale:e.initScale}},t.exports.HULU_PATAMS=[{id:1,name:"\u5927\u5a03",normalIcon:{url:"maingame/main_gourd_1",urls:["maingame/main_gourd_1","maingame/main_gourd_1","common/huluwa1"],ancherX:.5,ancherY:1},smallIcon:{url:"maingame/main_flower_1",ancherX:.5,ancherY:1},image:"common/huluwa1",totalWater:150,usedWater:0,initScale:.5},{id:2,name:"\u4e8c\u5a03",normalIcon:{url:"maingame/main_gourd_2",urls:["maingame/main_gourd_2","maingame/main_gourd_2_2","maingame/main_gourd_2_3","common/huluwa2"],ancherX:.5,ancherY:1},smallIcon:{url:"maingame/main_flower_2",ancherX:.5,ancherY:1},image:"common/huluwa2",totalWater:150,usedWater:0,initScale:.5},{id:3,name:"\u4e09\u5a03",normalIcon:{url:"maingame/main_gourd_3",urls:["maingame/main_gourd_3","maingame/main_gourd_3_2","maingame/main_gourd_3_3","common/huluwa3"],ancherX:.5,ancherY:1},smallIcon:{url:"maingame/main_flower_3",ancherX:.5,ancherY:1},image:"common/huluwa3",totalWater:150,usedWater:0,initScale:.5},{id:4,name:"\u56db\u5a03",normalIcon:{url:"maingame/main_gourd_4",urls:["maingame/main_gourd_4","maingame/main_gourd_4_2","maingame/main_gourd_4_3","common/huluwa4"],ancherX:.5,ancherY:1},smallIcon:{url:"maingame/main_flower_4",ancherX:.5,ancherY:1},image:"common/huluwa4",totalWater:150,usedWater:0,initScale:.5},{id:5,name:"\u4e94\u5a03",normalIcon:{url:"maingame/main_gourd_5",urls:["maingame/main_gourd_5","maingame/main_gourd_5_2","maingame/main_gourd_5_3","common/huluwa5"],ancherX:.5,ancherY:1},smallIcon:{url:"maingame/main_flower_5",ancherX:.5,ancherY:1},image:"common/huluwa5",totalWater:150,usedWater:0,initScale:.5},{id:6,name:"\u516d\u5a03",normalIcon:{url:"maingame/main_gourd_6",urls:["maingame/main_gourd_6","maingame/main_gourd_6_2","maingame/main_gourd_6_3","common/huluwa6"],ancherX:.5,ancherY:1},smallIcon:{url:"maingame/main_flower_6",ancherX:.5,ancherY:1},image:"common/huluwa6",totalWater:150,usedWater:0,initScale:.5},{id:7,name:"\u4e03\u5a03",normalIcon:{url:"maingame/main_gourd_7",urls:["maingame/main_gourd_7","maingame/main_gourd_7_2","maingame/main_gourd_7_3","common/huluwa7"],ancherX:.5,ancherY:1},smallIcon:{url:"maingame/main_flower_7",ancherX:.5,ancherY:1},image:"common/huluwa7",totalWater:150,usedWater:0,initScale:.5}],t.exports.EVENT_MAIN={GLOBAL_WATERING:"global_watering",GLOBAL_GET_REDPACKET:"global_get_redpacket",TURNABLE:"turnable",TURNABLE_VIDEO_GET_RESULT:"turnable_video_get_result",TURNABLE_VIDEO_GET_POWER:"turnable_video_get_power",TURNABLE_ALERT_VIDEO_DOUBLE:"turnable_alert_video_double",TURNABLE_ALERT_MERGE:"turnable_alert_merge",TURNABLE_ALERT_GET:"turnable_alert_get",TURNABLE_ALERT_RESULT:"turnable_alert_result",FRIEND_HELP:"friend_help",FRIEND_HELP_INVITE:"friend_help_invite",ACHIEVEMENT:"achievement",FRIEND:"friend",FRIEND_ADD:"friend_add",FRIEND_DEL:"friend_del",FRIEND_WATER:"friend_water",BLESSINGBAG:"blessingbag",BLESSINGBAG_VIDEO_GET:"blessingbag_video_get",BLESSINGBAG_VIDEO_DOUBLE:"blessingbag_video_double",BLESSINGBAG_GET:"blessingbag_get",TOOGLESOUND:"tooglesound",SETTING:"setting",GAMERULES:"gamerules",WITHDRAW:"withdraw",TASKLIST:"tasklist",TASKLIST_SIGNIN:"tasklist_signin",TASKLIST_SIGNIN_GET:"tasklist_signin_get",TASKLIST_SIGNIN_REMIND:"tasklist_signin_remind",TASKLIST_SIGNIN_REMIND_DOUBLE:"tasklist_signin_remind_double",TASKLIST_SIGNIN_REMIND_GET:"tasklist_signin_remind_get",TASKLIST_WATERING:"tasklist_watering",TASKLIST_WATERING_ALERT_GET:"tasklist_watering_alert_get",TASKLIST_MEALS:"tasklist_meals",TASKLIST_MEALS_GET:"tasklist_meals_get",TASKLIST_MEALS_DOUBLE:"tasklist_meals_double",TASKLIST_SHARING:"tasklist_sharing",TASKLIST_SHARING_ALERT_GET:"tasklist_sharing_alert_get",TASKLIST_SHARING_ALERT_DOUBLE:"tasklist_sharing_alert_double",TASKLIST_VIDEO:"tasklist_video",TASKLIST_SEEVIDEO_ALERT_GET:"tasklist_seevideo_alert_get",TASKLIST_GAMEPK_ALERT_GET:"tasklist_gamepk_alert_get",TASKLIST_GAMEPK_ALERT_DOUBLE:"tasklist_gamepk_alert_double",TASKLIST_GAMEPK:"tasklist_gamepk",TASKLIST_GAMERUN_ALERT_GET:"tasklist_gamerun_alert_get",TASKLIST_GAMERUN_ALERT_DOUBLE:"tasklist_gamerun_alert_double",SUBGAME:"subgame",SUBGAME_YEYE:"subgame_yeye",SUBGAME_DAYAOGUAI:"subgame_dayaoguai",SUBGAME_EXCEPT:"subgame_except",DAILY_REDPACKET:"daily_redpacket",REDPACKET_GET_NEW_USER:"redpacket_get_new_user",REDPACKET_GET_RANDOM:"redpacket_get_random",REDPACKET_GET_HULUDONE_:"redpacket_get_huludone_",REDPACKET_GET_DAILY:"redpacket_get_daily",REDPACKET_GET_HULUGROWING:"redpacket_get_hulugrowing",REDPACKET_GET_SIGNIN:"redpacket_get_signin",WXLOGIN_WITH_DRAW:"wxlogin_with_draw",WXLOGIN_PROFILE_PHOTO:"wxlogin_profile_photo",WXLOGIN_ADDFRIEND:"wxlogin_addfriend",WXLOGIN_FRIEND_HELP:"wxlogin_friend_help",WXLOGIN_CANCEL:"wxlogin_cancel",Activity_Click:"activity_click",Activity_Click_Vine:"activity_click_vine",Activity_Click_Butterfly:"activity_click_butterfly",Apply_Prop:"apply_prop",GO_DOWNLOAD_APP:"go_download_app",GO_DOWNLOAD_APP_CANCEL:"go_download_app_cancel",PROMPT_CLICK:"prompt_click",PROFIT_DUIHUAN:"profit_exchange_click",PROFIT_WITHDRAW:"prpfit_withdraw_click",MY_CORN_CLICK:"my_corn_click",PUT_IN_WALLET:"put_in_wallet_click",MULTIPLE:"multiple_click",PLATFORM_CLICK:"platform_click",MY_PROFIT_EXPLAIN:"my_profit_explain",MULTIPLE_EXPLAIN:"multiple_explain_click",WatermelonThemeUnlock:"WatermelonThemeUnlock",Theme01Unlock:"Theme01Unlock",Theme02Unlock:"Theme02Unlock",Theme03Unlock:"Theme03Unlock",Theme04Unlock:"Theme04Unlock",WatermelonComposite:"WatermelonComposite",WatermelonCompositeLabel:"WatermelonCompositeLabel",SmallLabel:"SmallLabel",WatermelonValue:"WatermelonValue",SmallValue:"SmallValue",WatermelonEndlessEnterPointCheck:"WatermelonEndlessEnterPointCheck",WatermelonEndlessNextPointCheck:"WatermelonEndlessNextPointCheck",WatermelonGameScore:"WatermelonGameScore",GameScoreWatermelon:"GameScoreWatermelon",GameScoreEndless:"GameScoreEndless",GameScoreSmall:"GameScoreSmall",WatermelonClick:"WatermelonClick",WatermelonClickPlaySmall:"WatermelonClickPlaySmall",WatermelonClickPlaySmallUnlock:"WatermelonClickPlaySmallUnlock",WatermelonClickPlayDefault:"WatermelonClickPlayDefault",WatermelonClickPlayEndless:"WatermelonClickPlayEndless",WatermelonClickTheme:"WatermelonClickTheme",WatermelonClickThemeBtnUse:"WatermelonClickThemeBtnUse",UseThemeSuccess:"UseThemeSuccess",UseThemeFail:"UseThemeFail",UseThemeNowWaring:"UseThemeNowWaring"},t.exports.WX_AUTH_SCENE={WITH_DRAW:"wx_auth_with_draw",First_Start:"wx_auth_first_start",CLICK_PROFILE_PHOTO:"wx_auth_profile_photo",TOKEN_EXPIRED:"wx_auth_token_expired",ADD_FRIEND:"wx_auth_add_friend",FRIEND_HELP:"wx_auth_friend_help"},t.exports.SCENE_FOR_WX={SIGNIN_REMIND:1},t.exports.PropType={butterfly:1,fallingStar:2},t.exports.LocalStorage={Sound_Effects_Enable:"Sound_Effects_Enable",Turnable_Cur_Power:"Turnable_Cur_Power",Turnable_Total_Power:"Turnable_Total_Power",Add_Friend_List:"Add_Friend_List",Achievement_List:"Achievement_List",Last_Income_Tips:"Last_Income_Tips",Tasklist_Item_Watering:"Tasklist_Item_Watering",Tasklist_Item_Sharing:"Tasklist_Item_Sharing",Tasklist_Item_SeeVideo:"Tasklist_Item_SeeVideo",Tasklist_Item_Remind:"Tasklist_Item_Remind",Tasklist_Item_Sharing_Temp:"Tasklist_Item_Sharing_Temp",Tasklist_Item_SeeVideo_Temp:"Tasklist_Item_SeeVideo_Temp",TaskList_Item_GameRunSignIn:"TaskList_Item_GameRunSignIn",TaskList_Item_GameRunScore40:"TaskList_Item_GameRunScore40",TaskList_Item_GameRunScore80:"TaskList_Item_GameRunScore80",TaskList_Item_GameRunScore120:"TaskList_Item_GameRunScore120",TaskList_Item_GameRunScore160:"TaskList_Item_GameRunScore160",TaskList_Item_GamePKSignIn:"TaskList_Item_GamePKSignIn",TaskList_Item_GamePKVictory1:"TaskList_Item_GamePKVictory1",TaskList_Item_GamePKVictory3:"TaskList_Item_GamePKVictory3",TaskList_Item_GamePKVictory5:"TaskList_Item_GamePKVictory5",TaskList_Item_GamePKVictory10:"TaskList_Item_GamePKVictory10",TaskList_Item_GamePKVictoryCount:"TaskList_Item_GamePKVictoryCount"},t.exports.WealType={DailyOnlineGoldCoin:3},t.exports.CallCocosCmd={Wx_Auth:"wx_auth"},t.exports.loginMode={Visitor:1,WxApp:2,WxMiniGame:3,WxWeb:4},t.exports.SysFriend={1201212121212000:{iconPath:"maingame/friend_huhu",name:"\u846b\u846b"},1201212121212001:{iconPath:"maingame/friend_lulu",name:"\u82a6\u82a6"}},t.exports.HandSpeedBattleMode={Endless:1,Quick:2},t.exports.GameId={YeYeRun:1,HitMonster:2,HandSpeed:3,XiGua:4},t.exports.GameLevel={1:"\u521d\u7ea7\u9ed1\u94c1",2:"\u5014\u5f3a\u9752\u94dc",3:"\u4e0d\u5c48\u767d\u94f6",4:"\u8363\u8000\u9ec4\u91d1",5:"\u5c0a\u8d35\u94c2\u91d1",6:"\u6c38\u6052\u94bb\u77f3",7:"\u81f3\u5c0a\u661f\u8000",8:"\u6700\u5f3a\u738b\u8005"},t.exports.GameLevelSecond={1:"\u2160",2:"\u2161",3:"\u2162"},t.exports.getGameLevel=function(e){var t="";if(e){var o=e.split("&");t=a.GameLevel[o[0]]+a.GameLevelSecond[o[1]]}return t},t.exports.Backpack={Hulu1:{type:0,name:"\u5927\u5a03"},Hulu2:{type:1,name:"\u4e8c\u5a03"},Hulu3:{type:2,name:"\u4e09\u5a03"},Hulu4:{type:3,name:"\u56db\u5a03"},Hulu5:{type:4,name:"\u4e94\u5a03"},Hulu6:{type:5,name:"\u516d\u5a03"},Hulu7:{type:6,name:"\u4e03\u5a03"},JinGangHulu:{type:7,name:"\u91d1\u521a\u846b\u82a6\u5a03"},BonusHulu:{type:8,name:"\u5206\u7ea2\u846b\u82a6\u5a03"},Lotus1:{type:9,name:"\u83b2\u82b1"},Lotus2:{type:10,name:"\u83b2\u82b1"},Lotus3:{type:11,name:"\u83b2\u82b1"},Lotus4:{type:12,name:"\u83b2\u82b1"}},t.exports.PromptType={Payment:1,FriendHelp:2,OfflineWater:3,GongGao:4},cc._RF.pop()},{ConstValue:"ConstValue"}],CustomButton:[function(e,t,o){"use strict";cc._RF.push(t,"4ddf2LMTiFEwbkROnZ2QRer","CustomButton"),cc.Class({extends:cc.Button,properties:{audioClipClick:{default:null,tooltip:"\u70b9\u51fb\u97f3\u6548",type:cc.AudioClip},clickEventInterval:{default:0,range:[0,1],tooltip:"\u8fde\u7eed\u70b9\u51fb\u4e8b\u4ef6\u95f4\u9694\uff08\u79d2\uff09"},_ClickEventsEmitting:!1},_onTouchEnded:function(e){this.interactable&&this.enabledInHierarchy&&(this._pressed&&(Global.soundEffectsEnabled&&null!=this.audioClipClick&&cc.audioEngine.play(this.audioClipClick,!1,1),this._ClickEventsEmitting?console.log("\u6b63\u5728\u5904\u7406\u70b9\u51fb\u4e8b\u4ef6..., \u4e0d\u80fd\u8fde\u7eed\u70b9\u51fb"):(cc.Component.EventHandler.emitEvents(this.clickEvents,e),this.node.emit("click",this),Global.reportUserAction(),this.clickEventInterval>0&&(this.setClickEventsEmitting(!0),this.scheduleOnce(this.setClickEventsEmitting.bind(this,!1),this.clickEventInterval)))),this._pressed=!1,this._updateState(),e.stopPropagation())},setClickEventsEmitting:function(e){console.log("setClickEventsEmitting:"+e),this._ClickEventsEmitting=e}}),cc._RF.pop()},{}],GameSc:[function(e,t,o){"use strict";cc._RF.push(t,"a24e3sZyp9GJoX+eE54dcEO","GameSc");var a=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function a(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}}(),n=this&&this.__decorate||function(e,t,o,a){var n,l=arguments.length,i=l<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(l<3?n(i):l>3?n(t,o,i):n(t,o))||i);return l>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var l,i=e("./BallSc"),c=e("./BallThemeSc"),s=cc._decorator,r=s.ccclass,d=s.property,h=e("Toast"),u=e("AdUtils"),p=e("PlatformBridge"),m=e("ConstValue");(function(e){e[e.start=0]="start",e[e.gaming=1]="gaming",e[e.over=2]="over"})(l||(l={}));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scoreLabel=null,t.ballsLayer=null,t.parentCanvas=null,t.waterEffectPrefab=null,t.bombEffectPrefab=null,t.ballsPrefab=[],t.superBallPrefab=null,t.deleteBallPrefab=null,t.deadLine=null,t.bottomLine=null,t.leftLine=null,t.rightLine=null,t.btnEndlessNext=null,t.iosBackButton=null,t.btnRandomBallClick=null,t.superBallTipsUI=null,t.deleteBallTipsUI=null,t.randomBallTipsUI=null,t.btnClear=null,t.btnGameSmallLock=null,t.gameBackGround=null,t.winUIwatermelon=null,t.btnGravityBall=null,t.btnSuperBallVideoIcon=null,t.btnDeleteBallVideoIcon=null,t.btnRandomBallVideoIcon=null,t.btnGravityBallVideoIcon=null,t.chooseThemeRedDot=null,t.labelAchieveWatermelon=null,t.labelAchieveSmall=null,t.labelPercentPlayer=null,t.labelBtnStart=null,t.labelCheckPoint=null,t.nodeWinUICloseBtn=null,t.nodeWinUITips=null,t.leveUpClip=null,t.dropClip=null,t.randomArray=[0,0,0,0,0,1,1,1,1,2,2,2,3,3,3,4,4,5,6,7],t.currentBall=null,t.currentBallIndex=0,t._gameState=l.gaming,t._winner=!1,t._score=0,t._waterPercentPlayer=0,t._smallPercentPlayer=0,t._watermelonCount=0,t._smallCount=0,t._isGameModeSmallUnlock=!1,t._curThemeBall=0,t.endlessRandomArray=[0,1,2,3,4,5,6,7],t.createEndlessBallDone=!1,t.canBeginContact=!1,t.theme01unlockString="theme01unlock",t.theme02unlockString="theme02unlock",t.theme03unlockString="theme03unlock",t.theme04unlockString="theme04unlock",t.percentAnim=null,t.ballColors=[],t.ballColorsDefault=[(new cc.Color).fromHEX("#862274"),(new cc.Color).fromHEX("#ff0925"),(new cc.Color).fromHEX("#ff8e1c"),(new cc.Color).fromHEX("#ffe614"),(new cc.Color).fromHEX("#6de42e"),(new cc.Color).fromHEX("#e61933"),(new cc.Color).fromHEX("#fab36d"),(new cc.Color).fromHEX("#ffe350"),(new cc.Color).fromHEX("#fffaea"),(new cc.Color).fromHEX("#fc7b97"),(new cc.Color).fromHEX("#52d135")],t.ballColorsTheme03=[(new cc.Color).fromHEX("#00CCD3"),(new cc.Color).fromHEX("#FFE770"),(new cc.Color).fromHEX("#FACE8C"),(new cc.Color).fromHEX("#E1E3E5"),(new cc.Color).fromHEX("#EEEDE6"),(new cc.Color).fromHEX("#ADD731"),(new cc.Color).fromHEX("#964323"),(new cc.Color).fromHEX("#FF0F1B"),(new cc.Color).fromHEX("#FBE53F"),(new cc.Color).fromHEX("#FF6434"),(new cc.Color).fromHEX("#CFCFCF")],t.ballColorsTheme04=[(new cc.Color).fromHEX("#D5AC94"),(new cc.Color).fromHEX("#8C8A8C"),(new cc.Color).fromHEX("#134EA6"),(new cc.Color).fromHEX("#EE3D1C"),(new cc.Color).fromHEX("#FFC386"),(new cc.Color).fromHEX("#162A47"),(new cc.Color).fromHEX("#FFA040"),(new cc.Color).fromHEX("#1777D8"),(new cc.Color).fromHEX("#FFC981"),(new cc.Color).fromHEX("#FF8055"),(new cc.Color).fromHEX("#ED371A")],t._clearChance=0,t.GAME_MODE_DEFAULT=0,t.GAME_MODE_SMALL=1,t.GAME_MODE_ENDLESS=2,t.GAME_MODE=t.GAME_MODE_DEFAULT,t._BackClickCount=void 0,t._nextSuperBall=!1,t._nextSuperBallFree=!1,t._nextDeleteBallFree=!1,t._nextGravityBallFree=!1,t._isGiveSuperBallNoVideo=!1,t._isGiveDeleteBallNoVideo=!1,t._isGiveRandomBallNoVideo=!1,t._isGiveGravityBallNoVideo=!1,t.randomBallCount=0,t._nextDeleteBall=!1,t}return a(t,e),Object.defineProperty(t.prototype,"score",{get:function(){return this._score},set:function(e){this._score=e,this.scoreLabel.string=e.toFixed(0)},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){cc.sys.platform!=cc.sys.WECHAT_GAME&&(globalThis.Global.ScriptWatermelon=this),cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.WECHAT_GAME?this.iosBackButton.active=!0:this.iosBackButton.active=!1,cc.sys.platform==cc.sys.ANDROID&&(p.initCocosSuccess(),globalThis.Global.addInitCallback("ScriptWatermelon",this.onInitSuccess.bind(this))),this.checkTheme(!1),cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-1280),this.initBtnState(),this.initAchieveCount(),this.checkSmallUnlock(),this.showBannerAd(),u.showInterstitialAdIfNeeded(),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("\u6e38\u620f\u8fdb\u5165\u540e\u53f0")},this),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("\u6e38\u620f\u8fdb\u5165\u524d\u53f0"),u.tryShowInterstitialAdQuickly()},this)},t.prototype.initAchieveCount=function(){var e=cc.sys.localStorage.getItem("_watermelonCount");e&&(this._watermelonCount=e);var t=cc.sys.localStorage.getItem("_smallCount");t&&(this._smallCount=t),this.refreshAchieveCount()},t.prototype.refreshAchieveCount=function(){var e=this._watermelonCount,t=this._smallCount;console.log("refreshAchieveCount->",e,",",t),this.labelAchieveWatermelon.string="\u5df2\u7d2f\u8ba1\u5408\u6210\u4e86"+e+"\u4e2a\u5927\u897f\u74dc",this.labelAchieveSmall.string="\u5df2\u7d2f\u8ba1\u5408\u6210\u4e86"+t+"\u4e2a\u5c0f\u8461\u8404",this.checkTheme02Unlock(),this.checkTheme04Unlock()},t.prototype.showBannerAd=function(){var e=Math.round(700*cc.view.getFrameSize().width/cc.winSize.width),t=Math.round(90*e/600),o=Math.round(10*cc.view.getFrameSize().height/cc.winSize.height);console.log("BannerAd->",e,",",t,",",o),p.showBannerAd("Waterlemon",m.AdId.Banner,e,t,!0,o,!1),this.schedule(function(){p.showBannerAd("Waterlemon",m.AdId.Banner,e,t,!0,o,!1)},30)},t.prototype.initBtnState=function(){this.chooseThemeRedDot.active=1==cc.sys.localStorage.getItem("newthemeunlock"),this._isGiveRandomBallNoVideo=1==cc.sys.localStorage.getItem("_isGiveRandomBallNoVideo"),this._isGiveSuperBallNoVideo=1==cc.sys.localStorage.getItem("_isGiveSuperBallNoVideo"),this._isGiveDeleteBallNoVideo=1==cc.sys.localStorage.getItem("_isGiveDeleteBallNoVideo"),this._isGiveGravityBallNoVideo=1==cc.sys.localStorage.getItem("_isGiveGravityBallNoVideo"),this.btnRandomBallVideoIcon.active=this._isGiveRandomBallNoVideo,this.btnSuperBallVideoIcon.active=this._isGiveSuperBallNoVideo,this.btnDeleteBallVideoIcon.active=this._isGiveDeleteBallNoVideo,this.btnGravityBallVideoIcon.active=this._isGiveGravityBallNoVideo},t.prototype.checkSmallUnlock=function(){this._isGameModeSmallUnlock=1==cc.sys.localStorage.getItem("_isGameModeSmallUnlock"),this.btnGameSmallLock.active=!this._isGameModeSmallUnlock},t.prototype.onInitSuccess=function(){console.log("DAXIGUA_onInitSuccess"),p.checkPermission(!1,"android.permission.READ_PHONE_STATE,android.permission.READ_EXTERNAL_STORAGE,android.permission.WRITE_EXTERNAL_STORAGE,android.permission.ACCESS_COARSE_LOCATION,android.permission.ACCESS_FINE_LOCATION"),this.checkHotUpdate()},t.prototype.checkHotUpdate=function(){this.parentCanvas.getComponent("HotUpdate").checkUpdate()},t.prototype.onDestroy=function(){cc.game.off("game-ball-drop"),cc.game.off(cc.game.EVENT_SHOW),cc.game.off(cc.game.EVENT_HIDE),p.hideBannerAd(),u.clearInterstitialAdTimer()},t.prototype.start=function(){var e=this;cc.game.on("game-ball-drop",function(){cc.audioEngine.playEffect(e.dropClip,!1)}),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},t.prototype.gameStart=function(e){this.checkTheme(e),this.GAME_MODE==this.GAME_MODE_DEFAULT||this.GAME_MODE==this.GAME_MODE_ENDLESS?this.randomArray=[0,0,0,0,0,1,1,1,1,2,2,2,3,3,3,4,4,5,6,7]:this.GAME_MODE==this.GAME_MODE_SMALL&&(this.randomArray=[9,9,9,9,9,8,8,8,8,8,7,7,7,7,7,6,6,6,6,5,5,5,4,4,4,3,3,2,2]),this.checkEndless(),this.deadLine.active=!1,cc.tween(this.deadLine).repeatForever(cc.tween(this.deadLine).to(.3,{opacity:0}).to(.3,{opacity:255})).start()},t.prototype.checkEndless=function(){this.GAME_MODE==this.GAME_MODE_ENDLESS?(this.createEndlessBallDone=!1,this.canBeginContact=!1,this.currentBall&&this.currentBall.destroy(),this.createEndlessBall()):(this.canBeginContact=!0,this.createEndlessBallDone=!0,this.CreateNewBall())},t.prototype.onClickEndlessNext=function(){var e=this;this.addCheckPoint();var t=this.ballsLayer.getComponentsInChildren(i.default);this.clearScreenBalls(t,.01),cc.tween(this).delay(.01*t.length).call(function(){cc.find("Canvas/WinUI").active=!1,e.onClickModeEndless(!1),e.refreshAchieveCount()}).start(),u.tryShowInterstitialAdQuickly()},t.prototype.addCheckPoint=function(){this.numberCheckPoint=cc.sys.localStorage.getItem("labelCheckPoint"),this.numberCheckPoint?(this.numberCheckPoint=parseInt(this.numberCheckPoint)+1,cc.sys.localStorage.setItem("labelCheckPoint",this.numberCheckPoint),this.labelCheckPoint.string="\u7b2c"+this.numberCheckPoint+"\u5173"):(this.numberCheckPoint=2,cc.sys.localStorage.setItem("labelCheckPoint",2),this.labelCheckPoint.string="\u7b2c"+this.numberCheckPoint+"\u5173"),p.onEventLabel(m.EVENT_MAIN.WatermelonEndlessNextPointCheck,parseInt(this.numberCheckPoint))},t.prototype.randomTheme=function(e){var t=cc.sys.localStorage.getItem(this.theme01unlockString),o=cc.sys.localStorage.getItem(this.theme02unlockString),a=cc.sys.localStorage.getItem(this.theme03unlockString),n=cc.sys.localStorage.getItem(this.theme04unlockString),l=[0];t&&l.push(1),o&&l.push(2),a&&l.push(3),n&&l.push(4),this._curThemeBall=l[Math.floor(Math.random()*l.length)];var i=cc.sys.localStorage.getItem("currentCheckPoint"+parseInt(this.numberCheckPoint));i?this._curThemeBall=parseInt(i):cc.sys.localStorage.setItem("currentCheckPoint"+parseInt(this.numberCheckPoint),this._curThemeBall);var c="watermelon/theme"+this._curThemeBall+"_bg";this.loadSpriteFrame(c,this.gameBackGround,null),(!this._curThemeBall||this._curThemeBall<=2)&&(this._curThemeBall=0),3==this._curThemeBall?this.ballColors=this.ballColorsTheme03:4==this._curThemeBall?this.ballColors=this.ballColorsTheme04:this.ballColors=this.ballColorsDefault},t.prototype.createEndlessBall=function(){var e=this;this.GetWorldPostation2(this.deadLine);if(this.createEndlessBallDone)this.CreateNewBall();else{var t=this.endlessRandomArray[Math.floor(Math.random()*this.endlessRandomArray.length)],o=cc.instantiate(this.ballsPrefab[t]);o.getComponent(c.default).setTheme(this._curThemeBall,o.getComponent(i.default).BallIndex),this.ballsLayer.addChild(o),o.x=this.random(-300,300),o.y=700,console.log("ball->>>>",o.x,o.y),o.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,o.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-3e3),setTimeout(function(){e.createEndlessBall()},100)}},t.prototype.checkEndlessBallHigh=function(e,t){var o=this;if(!this.createEndlessBallDone&&(e.getComponent(i.default).BallIndex==t.getComponent(i.default).BallIndex&&cc.tween(e).to(.15,{scale:0}).removeSelf().start(),e.y>0&&e.y<100)){setTimeout(function(){o.canBeginContact=!0},1e3),this.createEndlessBallDone=!0;var a=this.ballsLayer.getComponentsInChildren(i.default),n=this.GetWorldPostation2(this.deadLine),l=[],c=n.y;console.log("posLine->",n.y);for(var s=0;s<a.length-1;s++)console.log("pos->",this.GetWorldPostation2(a[s].node).y),this.GetWorldPostation2(a[s].node).y>=Math.round(2*c/3)&&l.push(a[s]);for(s=0;s<l.length;s++)cc.tween(l[s].node).to(.15,{scale:0}).removeSelf().start();return!0}return!1},t.prototype.random=function(e,t){return Math.floor(Math.random()*(t+1-e)+e)},t.prototype.checkTheme=function(e){if(this.GAME_MODE==this.GAME_MODE_ENDLESS)this.randomTheme(e);else{this._curThemeBall=cc.sys.localStorage.getItem("currentUseTheme"),this._curThemeBall||cc.sys.localStorage.setItem("currentUseTheme",0);var t="watermelon/theme"+this._curThemeBall+"_bg";this.loadSpriteFrame(t,this.gameBackGround,null),(!this._curThemeBall||this._curThemeBall<=2)&&(this._curThemeBall=0),3==this._curThemeBall?this.ballColors=this.ballColorsTheme03:4==this._curThemeBall?this.ballColors=this.ballColorsTheme04:this.ballColors=this.ballColorsDefault}},t.prototype.loadSpriteFrame=function(e,t,o){e&&e.length>0&&t&&cc.resources.load(e,cc.SpriteFrame,function(e,a){e||(t.spriteFrame=a,"function"==typeof o&&o())})},t.prototype.onTouchEnd=function(e){var t=this;if(this._gameState===l.gaming&&this.currentBall)if(this.btnRandomBallClick.active=!1,this.randomBallTipsUI.active=!1,this.randomBallCount=0,this._nextSuperBallFree||this._nextDeleteBallFree){var o,a=this.ballsLayer.convertToNodeSpaceAR(e.getLocation()).x,n=this.ballsLayer.convertToNodeSpaceAR(e.getLocation()).y;this._nextSuperBallFree?(this._nextSuperBallFree=!1,this.superBallTipsUI.active=!1,o=cc.instantiate(this.superBallPrefab)):this._nextDeleteBallFree&&(this._nextDeleteBallFree=!1,this.deleteBallTipsUI.active=!1,o=cc.instantiate(this.deleteBallPrefab)),o.y=n,o.x=a,o.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,o.scale=0,cc.tween(o).delay(.5).call(function(){t.ballsLayer.addChild(o)}).to(.2,{scale:1}).call(function(){}).start();cc.tween(o).to(Math.abs(.001*a),{x:a}).call(function(){o.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,o.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-300)}).start()}else{var c=this.currentBall;c.addComponent(i.default).BallIndex=this.currentBallIndex,this.currentBall=null;var s=this.ballsLayer.convertToNodeSpaceAR(e.getLocation()).x;s>360-c.width/2?s=360-c.width/2:s<c.width/2-360&&(s=c.width/2-360);cc.tween(c).to(Math.abs(.001*s),{x:s}).call(function(){c.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,c.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-300),t.CreateNewBall()}).start()}},t.prototype.onTouchMove=function(e){if(this._gameState==l.gaming){if(this._nextSuperBallFree||this._nextDeleteBallFree)return;if(this.currentBall){var t=this.ballsLayer.convertToNodeSpaceAR(e.getLocation()).x;t>360-this.currentBall.width/2?t=360-this.currentBall.width/2:t<this.currentBall.width/2-360&&(t=this.currentBall.width/2-360),this.currentBall.x=t}}},t.prototype.CreateNewBall=function(){var e=this;if(this.currentBall&&this.currentBall.destroy(),this._nextSuperBall){this._nextSuperBall=!1;var t=cc.instantiate(this.superBallPrefab);this.currentBallIndex=t.getComponent(i.default).BallIndex,t.removeComponent(i.default),t.y=566,t.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,t.scale=0,cc.tween(t).delay(1).call(function(){e.ballsLayer.addChild(t)}).to(.2,{scale:1}).call(function(){e.currentBall=t}).start()}else if(this._nextDeleteBall){this._nextDeleteBall=!1;var o=cc.instantiate(this.deleteBallPrefab);this.currentBallIndex=o.getComponent(i.default).BallIndex,o.removeComponent(i.default),o.y=566,o.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,o.scale=0,cc.tween(o).delay(.5).call(function(){e.ballsLayer.addChild(o)}).to(.2,{scale:1}).call(function(){e.currentBall=o}).start()}else{var a=this.randomArray[Math.floor(Math.random()*this.randomArray.length)],n=cc.instantiate(this.ballsPrefab[a]);this.currentBallIndex=n.getComponent(i.default).BallIndex,n.getComponent(c.default).setTheme(this._curThemeBall,this.currentBallIndex),n.removeComponent(i.default),n.y=566,n.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,n.scale=0,cc.tween(n).delay(.5).call(function(){e.ballsLayer.addChild(n)}).to(.2,{scale:1}).call(function(){e.currentBall=n}).start()}},t.prototype.checkTheme01Unlock=function(){if(!cc.sys.localStorage.getItem(this.theme01unlockString)){var e=new Date,t=new Date(e.getTime()-864e5);cc.sys.localStorage.getItem(t.toLocaleDateString()+this.theme01unlockString)?(h("\u76db\u590f\u6d77\u8fb9\uff08\u80cc\u666f\uff09\u5df2\u89e3\u9501",{gravity:"BOTTOM"}),p.onEventLabel(m.EVENT_MAIN.WatermelonThemeUnlock,m.EVENT_MAIN.Theme01Unlock),this.setThemeUnlockRedDot(),cc.sys.localStorage.setItem(this.theme01unlockString,1)):cc.sys.localStorage.setItem(e.toLocaleDateString()+this.theme01unlockString,1)}},t.prototype.checkTheme02Unlock=function(){this._watermelonCount>=10&&(cc.sys.localStorage.getItem(this.theme02unlockString)||(h("\u51ac\u65e5\u7269\u8bed\uff08\u4e3b\u9898\uff09\u5df2\u89e3\u9501",{gravity:"BOTTOM"}),p.onEventLabel(m.EVENT_MAIN.WatermelonThemeUnlock,m.EVENT_MAIN.Theme02Unlock),this.setThemeUnlockRedDot(),cc.sys.localStorage.setItem(this.theme02unlockString,1)))},t.prototype.checkTheme03Unlock=function(){this.score>=2e3&&(cc.sys.localStorage.getItem(this.theme03unlockString)||(h("\u6625\u610f\u76ce\u7136\uff08\u4e3b\u9898\uff09\u5df2\u89e3\u9501",{gravity:"BOTTOM"}),p.onEventLabel(m.EVENT_MAIN.WatermelonThemeUnlock,m.EVENT_MAIN.Theme03Unlock),this.setThemeUnlockRedDot(),cc.sys.localStorage.setItem(this.theme03unlockString,1)))},t.prototype.checkTheme04Unlock=function(){this._smallCount>=50&&(cc.sys.localStorage.getItem(this.theme04unlockString)||(h("\u63a2\u7d22\u5b87\u5b99\uff08\u4e3b\u9898\uff09\u5df2\u89e3\u9501",{gravity:"BOTTOM"}),p.onEventLabel(m.EVENT_MAIN.WatermelonThemeUnlock,m.EVENT_MAIN.Theme04Unlock),this.setThemeUnlockRedDot(),cc.sys.localStorage.setItem(this.theme04unlockString,1)))},t.prototype.setThemeUnlockRedDot=function(){cc.sys.localStorage.setItem("newthemeunlock",1),this.chooseThemeRedDot.active=!0},t.prototype.BallLevelUp=function(e,t){var o,a=this;if(o=this.GAME_MODE==this.GAME_MODE_DEFAULT||this.GAME_MODE==this.GAME_MODE_ENDLESS?e.getComponent(i.default).BallIndex+1:e.getComponent(i.default).BallIndex-1,100==e.getComponent(i.default).BallIndex||100==t.getComponent(i.default).BallIndex){cc.audioEngine.playEffect(this.leveUpClip,!1),cc.tween(t).to(2,{x:e.x,y:e.y,scale:0}).removeSelf().start(),cc.tween(e).to(.15,{x:e.x,y:e.y,scale:0}).removeSelf().start();var n=cc.instantiate(this.bombEffectPrefab);return n.x=e.x,n.y=e.y,this.ballsLayer.addChild(n),this.score+=10,void this.checkTheme03Unlock()}var l=!1;return this.GAME_MODE==this.GAME_MODE_DEFAULT||this.GAME_MODE==this.GAME_MODE_ENDLESS?o<=this.ballsPrefab.length&&(l=!0):this.GAME_MODE==this.GAME_MODE_SMALL&&o>=1&&(l=!0),!!l&&(cc.audioEngine.playEffect(this.leveUpClip,!1),t.getComponent(cc.PhysicsCollider).enabled=!1,cc.tween(t).to(.15,{x:e.x,y:e.y}).removeSelf().call(function(){var t=cc.instantiate(a.ballsPrefab[o-1]);t.position=e.position,t.getComponent(c.default).setTheme(a._curThemeBall,t.getComponent(i.default).BallIndex),cc.tween(t).to(.1,{scale:.5}).to(.15,{scale:1.2}).to(.15,{scale:1}).union().start(),a.ballsLayer.addChild(t),e.removeFromParent(!0);var n,l=cc.instantiate(a.waterEffectPrefab);l.x=t.x,l.y=t.y,o-1>=0&&o-1<a.ballColors.length&&(l.color=a.ballColors[o-1]),a.ballsLayer.addChild(l),n=a.GAME_MODE==a.GAME_MODE_DEFAULT||a.GAME_MODE==a.GAME_MODE_ENDLESS?a.ballsPrefab.length:1,o==n&&0==a._winner&&(a.showWinUI(),a.GAME_MODE==a.GAME_MODE_DEFAULT||a.GAME_MODE==a.GAME_MODE_ENDLESS?(a._waterPercentPlayer++,a.setWaterPercentString(),a._watermelonCount++,p.onEventValue(m.EVENT_MAIN.WatermelonComposite,m.EVENT_MAIN.WatermelonValue,1),p.onEventLabel(m.EVENT_MAIN.WatermelonCompositeLabel,a._watermelonCount),a.refreshAchieveCount(),console.log("_watermelonCount:",a._watermelonCount),cc.sys.localStorage.setItem("_watermelonCount",a._watermelonCount),1!=cc.sys.localStorage.getItem("_isGameModeSmallUnlock")&&(cc.sys.localStorage.setItem("_isGameModeSmallUnlock",1),cc.find("Canvas/WinUI/toast").active=!0,cc.tween(a).delay(2).call(function(){cc.find("Canvas/WinUI/toast").active=!1}).start()),a.checkSmallUnlock(),a.checkTheme01Unlock()):a.GAME_MODE==a.GAME_MODE_SMALL&&(a._smallPercentPlayer++,a.setSmallPercentString(),a._smallCount++,p.onEventValue(m.EVENT_MAIN.WatermelonComposite,m.EVENT_MAIN.SmallValue,1),p.onEventLabel(m.EVENT_MAIN.WatermelonCompositeSmallLabel,a._smallCount),a.refreshAchieveCount(),console.log("_smallCount:",a._smallCount),cc.sys.localStorage.setItem("_smallCount",a._smallCount)))}).start(),this.score+=e.getComponent(i.default).BallIndex,this.checkTheme03Unlock(),!0)},t.prototype.showWinUI=function(){var e="";e=this.GAME_MODE==this.GAME_MODE_DEFAULT||this.GAME_MODE==this.GAME_MODE_ENDLESS?"watermelon/theme"+this._curThemeBall+"_11":"watermelon/theme"+this._curThemeBall+"_1",this.GAME_MODE==this.GAME_MODE_ENDLESS?(this.labelBtnStart.string="\u6311\u6218\u4e0b\u4e00\u5173",this.nodeWinUICloseBtn.active=!1,this.nodeWinUITips.active=!1):this.GAME_MODE!=this.GAME_MODE_DEFAULT&&this.GAME_MODE!=this.GAME_MODE_SMALL||(this.labelBtnStart.string="\u4e00\u952e\u5168\u6e05",this.nodeWinUICloseBtn.active=!0,this.nodeWinUITips.active=!0),this.loadSpriteFrame(e,this.winUIwatermelon,function(){cc.find("Canvas/WinUI").active=!0})},t.prototype.setWaterPercentString=function(){var e=this;this.GAME_MODE!=this.GAME_MODE_ENDLESS?(this.labelPercentPlayer.node.active=!0,this.percentAnim&&this.percentAnim.stop(),1==this._waterPercentPlayer?(this.labelPercentPlayer.string="\u5168\u56fd\u4ec56.85%\u7684\u73a9\u5bb6\u80fd\u5408\u62101\u4e2a",this.percentAnim=cc.tween(this.labelPercentPlayer).delay(3).call(function(){e.labelPercentPlayer.string="\u5168\u56fd\u4ec51.16%\u7684\u73a9\u5bb6\u80fd\u5408\u62102\u4e2a"}).delay(3).call(function(){e.labelPercentPlayer.string="\u5168\u56fd\u4ec56.85%\u7684\u73a9\u5bb6\u80fd\u5408\u62101\u4e2a"}).union().repeatForever().start()):2==this._waterPercentPlayer?this.labelPercentPlayer.string="\u5168\u56fd\u4ec51.16%\u7684\u73a9\u5bb6\u80fd\u5408\u62102\u4e2a":this._waterPercentPlayer>=3&&(this.labelPercentPlayer.string="\u4f60\u662f\u5408\u6210\u754c\u7684\u738b\u8005\uff01")):this.labelPercentPlayer.node.active=!1},t.prototype.setSmallPercentString=function(){var e=this;this.percentAnim&&this.percentAnim.stop(),1==this._smallPercentPlayer?(this.labelPercentPlayer.string="\u5168\u56fd\u4ec55.79%\u7684\u73a9\u5bb6\u80fd\u5408\u62101\u4e2a",this.percentAnim=cc.tween(this.labelPercentPlayer).delay(3).call(function(){e.labelPercentPlayer.string="\u5168\u56fd\u4ec51.12%\u7684\u73a9\u5bb6\u80fd\u5408\u62102\u4e2a"}).delay(3).call(function(){e.labelPercentPlayer.string="\u5168\u56fd\u4ec55.79%\u7684\u73a9\u5bb6\u80fd\u5408\u62101\u4e2a"}).union().repeatForever().start()):2==this._smallPercentPlayer?this.labelPercentPlayer.string="\u5168\u56fd\u4ec51.12%\u7684\u73a9\u5bb6\u80fd\u5408\u62102\u4e2a":this._smallPercentPlayer>=3&&(this.labelPercentPlayer.string="\u4f60\u662f\u5408\u6210\u754c\u7684\u738b\u8005\uff01")},t.prototype.update=function(e){if(this.canBeginContact&&this._gameState==l.gaming){this.currentBall&&(this._nextSuperBall||this._nextDeleteBall)&&(cc.tween(this.currentBall).to(.1,{scale:0}).removeSelf().start(),this.currentBall=null,this.CreateNewBall());for(var t=!1,o=!1,a=0,n=this.ballsLayer.getComponentsInChildren(i.default);a<n.length;a++){var c=n[a];if(c.isNotCheckOver&&(c.node.y>=this.deadLine.y-c.node.height/2&&(t=!0),c.node.y>=this.deadLine.y)){o=!0;break}}if(this.deadLine.active=t,o){this._gameState=l.over,console.log("Game Over"),cc.find("Canvas/OverUI").active=!0;var s=void 0;this.GAME_MODE==this.GAME_MODE_DEFAULT&&(s=m.EVENT_MAIN.GameScoreWatermelon),this.GAME_MODE==this.GAME_MODE_SMALL&&(s=m.EVENT_MAIN.GameScoreSmall),this.GAME_MODE==this.GAME_MODE_ENDLESS&&(s=m.EVENT_MAIN.GameScoreEndless),p.onEventValue(m.EVENT_MAIN.WatermelonGameScore,s,this.score),this.resetData()}}},t.prototype.resetData=function(){this._waterPercentPlayer=0,this._smallPercentPlayer=0,this._clearChance=0,this.refreshBtnClearState()},t.prototype.onClickBtnBack=function(){var e;this.createEndlessBallDone&&(this._gameState=l.over,this.resetData(),this.reChooseGameMode(),this.GAME_MODE==this.GAME_MODE_DEFAULT&&(e=m.EVENT_MAIN.GameScoreWatermelon),this.GAME_MODE==this.GAME_MODE_SMALL&&(e=m.EVENT_MAIN.GameScoreSmall),this.GAME_MODE==this.GAME_MODE_ENDLESS&&(e=m.EVENT_MAIN.GameScoreEndless),p.onEventValue(m.EVENT_MAIN.WatermelonGameScore,e,this.score))},t.prototype.onClickReplay=function(){p.showRewardAd("onClickWatermelonReplay","1",m.AdId.Reward)},t.prototype.onClickReplayCallback=function(e){console.log("onClickReplayCallback->",e),e&&this.replay()},t.prototype.replay=function(){var e=this;cc.find("Canvas/OverUI").active=!1,this._gameState=l.start;var t=this.ballsLayer.getComponentsInChildren(i.default),o=this.GetWorldPostation2(this.deadLine),a=[],n=o.y;console.log("posLine->",o.y);for(var c=0;c<t.length-1;c++)console.log("pos->",this.GetWorldPostation2(t[c].node).y),this.GetWorldPostation2(t[c].node).y>=Math.round(2*n/3)&&a.push(t[c]);var s=function(t){cc.tween(a[t].node).delay(.1*t).call(function(){if(null!=a[t].node){var o=cc.instantiate(e.waterEffectPrefab);o.x=a[t].node.x,o.y=a[t].node.y,a[t].BallIndex-1>=0&&a[t].BallIndex-1<e.ballColors.length&&(o.color=e.ballColors[a[t].BallIndex-1]),e.ballsLayer.addChild(o)}else console.log("WATERMELON-REPLAY-NODE-NULL")}).removeSelf().start()};for(c=0;c<a.length;c++)s(c);cc.tween(this).delay(.1*a.length).call(function(){e._gameState=l.gaming,e.CreateNewBall()}).start(),this._winner=!1},t.prototype.GetWorldPostation2=function(e){return null==e.parent?e.getPosition():e.parent.convertToWorldSpaceAR(e.getPosition())},t.prototype.reChooseGameMode=function(){var e=this;this.labelCheckPoint.node.active=!1,cc.find("Canvas/OverUI").active=!1;var t=this.ballsLayer.getComponentsInChildren(i.default);this.clearScreenBalls(t,.1),cc.tween(this).delay(.1*t.length).call(function(){cc.find("Canvas/ChooseModeUI").active=!0,e.refreshAchieveCount()}).start(),u.tryShowInterstitialAdQuickly()},t.prototype.clearScreenBalls=function(e,t){for(var o=this,a=function(a){cc.tween(e[a].node).delay(t*a).call(function(){if(null!=e[a].node){var t=cc.instantiate(o.waterEffectPrefab);t.x=e[a].node.x,t.y=e[a].node.y,e[a].BallIndex-1>=0&&e[a].BallIndex-1<o.ballColors.length&&(t.color=o.ballColors[e[a].BallIndex-1]),o.ballsLayer.addChild(t)}else console.log("WATERMELON-REPLAY-NODE-NULL")}).removeSelf().start()},n=e.length-1;n>=0;n--)a(n)},t.prototype.closeWin=function(){cc.find("Canvas/WinUI").active=!1},t.prototype.addClearChance=function(){cc.find("Canvas/WinUI").active=!1,this._clearChance++,this.refreshBtnClearState(),u.tryShowInterstitialAdQuickly()},t.prototype.refreshBtnClearState=function(){this._clearChance>0?this.btnClear.active=!0:this.btnClear.active=!1},t.prototype.onClickClear=function(){var e=this;if(this.GAME_MODE==this.GAME_MODE_ENDLESS)this.onClickEndlessNext();else if(this.GAME_MODE==this.GAME_MODE_DEFAULT||this.GAME_MODE==this.GAME_MODE_SMALL){cc.find("Canvas/WinUI").active=!1,this._clearChance=0,this.refreshBtnClearState(),this._gameState=l.start;for(var t=this.ballsLayer.getComponentsInChildren(i.default),o=function(o){cc.tween(t[o].node).delay(.1*o).call(function(){if(null!=t[o].node){var a=cc.instantiate(e.waterEffectPrefab);a.x=t[o].node.x,a.y=t[o].node.y,t[o].BallIndex-1>=0&&t[o].BallIndex-1<e.ballColors.length&&(a.color=e.ballColors[t[o].BallIndex-1]),e.ballsLayer.addChild(a)}else console.log("WATERMELON-REPLAY-NODE-NULL")}).removeSelf().start()},a=t.length-1;a>=0;a--)o(a);cc.tween(this).delay(.1*t.length).call(function(){e._gameState=l.gaming,e.CreateNewBall()}).start()}},t.prototype.onClickModeDefault=function(){this.GAME_MODE=this.GAME_MODE_DEFAULT,this.closeChooseModeUIandStartGame(!1),p.onEventLabel(m.EVENT_MAIN.WatermelonClick,m.EVENT_MAIN.WatermelonClickPlayDefault)},t.prototype.onClickModeSmall=function(){this._isGameModeSmallUnlock?(this.GAME_MODE=this.GAME_MODE_SMALL,this.closeChooseModeUIandStartGame(!1),p.onEventLabel(m.EVENT_MAIN.WatermelonClick,m.EVENT_MAIN.WatermelonClickPlaySmall)):(h("\u5148\u5408\u6210\u4e00\u4e2a\u5927\u897f\u74dc\u624d\u80fd\u89e3\u9501\u8fd9\u79cd\u6a21\u5f0f\u54e6",{gravity:"BOTTOM"}),p.onEventLabel(m.EVENT_MAIN.WatermelonClick,m.EVENT_MAIN.WatermelonClickPlaySmallUnlock))},t.prototype.onClickModeEndless=function(e){this.GAME_MODE=this.GAME_MODE_ENDLESS,this.labelCheckPoint.node.active=!0,this.numberCheckPoint=cc.sys.localStorage.getItem("labelCheckPoint"),this.numberCheckPoint?this.labelCheckPoint.string="\u7b2c"+this.numberCheckPoint+"\u5173":(this.numberCheckPoint=1,cc.sys.localStorage.setItem("labelCheckPoint",1),this.labelCheckPoint.string="\u7b2c"+this.numberCheckPoint+"\u5173"),this.closeChooseModeUIandStartGame(e),e&&(p.onEventLabel(m.EVENT_MAIN.WatermelonClick,m.EVENT_MAIN.WatermelonClickPlayEndless),p.onEventLabel(m.EVENT_MAIN.WatermelonEndlessEnterPointCheck,parseInt(this.numberCheckPoint)))},t.prototype.closeChooseModeUIandStartGame=function(e){cc.find("Canvas/ChooseModeUI").active=!1,this._gameState=l.gaming,this.score=0,this._winner=!1,this.gameStart(e)},t.prototype.onEnable=function(){this.registerEvent()},t.prototype.onDisable=function(){this.offEvent()},t.prototype.registerEvent=function(){cc.sys.os===cc.sys.OS_ANDROID&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyDown,this)},t.prototype.offEvent=function(){cc.sys.os===cc.sys.OS_ANDROID&&cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyDown,this)},t.prototype.onKeyDown=function(e){console.log("onKeyguard......keyguarddown");var t=this;switch(e.keyCode){case cc.macro.KEY.back:if(globalThis.LayerRecord.onBackpress())return void console.log("handPKStart onKeyDown LayerRecord handle back event!");"number"!=typeof t._BackClickCount&&(t._BackClickCount=0),t._BackClickCount++,1==t._BackClickCount?(t.ballsLayer.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){t._BackClickCount=0}))),h("\u518d\u6309\u4e00\u6b21\u9000\u51fa",{gravity:"BOTTOM"})):2==t._BackClickCount&&p.finish()}},t.prototype.onClickBackButton=function(){var e=this;console.log("onBackButtonClick..."+e._BackClickCount),"number"!=typeof e._BackClickCount&&(e._BackClickCount=0),e._BackClickCount++,1==e._BackClickCount?(h("\u518d\u6309\u4e00\u6b21\u9000\u51fa",{gravity:"BOTTOM"}),e.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){e._BackClickCount=0})))):2==e._BackClickCount&&p.finish()},t.prototype.onClickBtnSuperBall=function(){if(!this._isGiveSuperBallNoVideo)return this._isGiveSuperBallNoVideo=!0,cc.sys.localStorage.setItem("_isGiveSuperBallNoVideo",1),void this.setSuperBallFreeReady();p.showRewardAd("onClickWatermelonSuperBall","1",m.AdId.Reward)},t.prototype.onClickBtnSuperBallCallback=function(e){console.log("onClickBtnSuperBallCallback->",e),e&&this.setSuperBallFreeReady()},t.prototype.setSuperBallFreeReady=function(){this._nextSuperBallFree=!0,this.btnSuperBallVideoIcon.active=!0,this.superBallTipsUI.active=!0,this.superBallTipsUI.stopAllActions(),cc.tween(this.superBallTipsUI).to(.5,{scale:1.2}).to(.5,{scale:1}).union().repeatForever().start()},t.prototype.onClickBtnRandomBall=function(){if(!this._isGiveRandomBallNoVideo)return this._isGiveRandomBallNoVideo=!0,cc.sys.localStorage.setItem("_isGiveRandomBallNoVideo",1),void this.setRandomBallFreeReady();p.showRewardAd("onClickWatermelonRandomBall","1",m.AdId.Reward)},t.prototype.onClickBtnGravityBall=function(){if(!this._isGiveGravityBallNoVideo)return this._isGiveGravityBallNoVideo=!0,cc.sys.localStorage.setItem("_isGiveGravityBallNoVideo",1),void this.startGravityBallEffect();p.showRewardAd("onClickWatermelonGravityBall","1",m.AdId.Reward)},t.prototype.startGravityBallEffect=function(){var e=this;this.btnGravityBall.interactable=!1,cc.find("Canvas/bg/top").active=!0,this.btnGravityBallVideoIcon.active=!0;for(var t=this.ballsLayer.getComponentsInChildren(i.default),o=function(e){cc.tween(t[e].node).call(function(){null!=t[e].node?cc.tween(t[e].node).to(.1,{scale:.2}).to(.15,{scale:1.2}).to(.15,{scale:1}).union().start():console.log("WATERMELON-REPLAY-NODE-NULL")}).start()},a=t.length-1;a>=0;a--)o(a);cc.director.getPhysicsManager().gravity=cc.v2(1e5,1e5),cc.tween(this).delay(.2).call(function(){cc.director.getPhysicsManager().gravity=cc.v2(-1e5,0)}).start(),cc.tween(this).delay(.4).call(function(){cc.director.getPhysicsManager().gravity=cc.v2(1e5,-1e5)}).start(),cc.tween(this).delay(.6).call(function(){cc.director.getPhysicsManager().gravity=cc.v2(-1e5,0)}).start(),cc.tween(this).delay(.8).call(function(){cc.director.getPhysicsManager().gravity=cc.v2(0,1e5)}).start(),cc.tween(this).delay(1).call(function(){cc.director.getPhysicsManager().gravity=cc.v2(0,-1280)}).start(),cc.tween(this).delay(1.5).call(function(){cc.find("Canvas/bg/top").active=!1}).start(),cc.tween(this).delay(2).call(function(){e.btnGravityBall.interactable=!0}).start()},t.prototype.onClickBtnGravityBallCallback=function(e){e&&this.startGravityBallEffect()},t.prototype.onClickBtnRandomBallCallback=function(e){console.log("onClickBtnRandomBallCallback->",e),e&&this.setRandomBallFreeReady()},t.prototype.setRandomBallFreeReady=function(){this.btnRandomBallClick.active=!0,this.btnRandomBallVideoIcon.active=!0,this.randomBallTipsUI.active=!0,this.randomBallTipsUI.stopAllActions(),cc.tween(this.randomBallTipsUI).to(.5,{scale:1.2}).to(.5,{scale:1}).union().repeatForever().start()},t.prototype.onClickBtnRandomBallClick=function(){var e=this;if(console.log("onClickBtnRandomBallClick"),this.randomBallCount++,this.currentBall){var t=this.currentBall;cc.tween(t).to(.15,{scale:0}).call(function(){e.CreateNewBall()}).removeSelf().start()}this.randomBallCount>=5&&(this.randomBallCount=0,this.btnRandomBallClick.active=!1,this.randomBallTipsUI.active=!1)},t.prototype.onClickBtnDeleteBall=function(){if(!this._isGiveDeleteBallNoVideo)return this._isGiveDeleteBallNoVideo=!0,cc.sys.localStorage.setItem("_isGiveDeleteBallNoVideo",1),void this.setDeleteBallFreeReady();p.showRewardAd("onClickWatermelonDelete","1",m.AdId.Reward)},t.prototype.setDeleteBallFreeReady=function(){this._nextDeleteBallFree=!0,this.btnDeleteBallVideoIcon.active=!0,this.deleteBallTipsUI.active=!0,this.deleteBallTipsUI.stopAllActions(),cc.tween(this.deleteBallTipsUI).to(.5,{scale:1.2}).to(.5,{scale:1}).union().repeatForever().start()},t.prototype.onClickBtnDeleteBallCallback=function(e){console.log("onClickBtnDeleteBallCallback->",e),e&&this.setDeleteBallFreeReady()},n([d(cc.Label)],t.prototype,"scoreLabel",void 0),n([d(cc.Node)],t.prototype,"ballsLayer",void 0),n([d(cc.Node)],t.prototype,"parentCanvas",void 0),n([d(cc.Prefab)],t.prototype,"waterEffectPrefab",void 0),n([d(cc.Prefab)],t.prototype,"bombEffectPrefab",void 0),n([d([cc.Prefab])],t.prototype,"ballsPrefab",void 0),n([d(cc.Prefab)],t.prototype,"superBallPrefab",void 0),n([d(cc.Prefab)],t.prototype,"deleteBallPrefab",void 0),n([d(cc.Node)],t.prototype,"deadLine",void 0),n([d(cc.Node)],t.prototype,"bottomLine",void 0),n([d(cc.Node)],t.prototype,"leftLine",void 0),n([d(cc.Node)],t.prototype,"rightLine",void 0),n([d(cc.Button)],t.prototype,"btnEndlessNext",void 0),n([d(cc.Node)],t.prototype,"iosBackButton",void 0),n([d(cc.Node)],t.prototype,"btnRandomBallClick",void 0),n([d(cc.Node)],t.prototype,"superBallTipsUI",void 0),n([d(cc.Node)],t.prototype,"deleteBallTipsUI",void 0),n([d(cc.Node)],t.prototype,"randomBallTipsUI",void 0),n([d(cc.Node)],t.prototype,"btnClear",void 0),n([d(cc.Node)],t.prototype,"btnGameSmallLock",void 0),n([d(cc.Sprite)],t.prototype,"gameBackGround",void 0),n([d(cc.Sprite)],t.prototype,"winUIwatermelon",void 0),n([d(cc.Button)],t.prototype,"btnGravityBall",void 0),n([d(cc.Node)],t.prototype,"btnSuperBallVideoIcon",void 0),n([d(cc.Node)],t.prototype,"btnDeleteBallVideoIcon",void 0),n([d(cc.Node)],t.prototype,"btnRandomBallVideoIcon",void 0),n([d(cc.Node)],t.prototype,"btnGravityBallVideoIcon",void 0),n([d(cc.Node)],t.prototype,"chooseThemeRedDot",void 0),n([d(cc.Label)],t.prototype,"labelAchieveWatermelon",void 0),n([d(cc.Label)],t.prototype,"labelAchieveSmall",void 0),n([d(cc.Label)],t.prototype,"labelPercentPlayer",void 0),n([d(cc.Label)],t.prototype,"labelBtnStart",void 0),n([d(cc.Label)],t.prototype,"labelCheckPoint",void 0),n([d(cc.Node)],t.prototype,"nodeWinUICloseBtn",void 0),n([d(cc.Node)],t.prototype,"nodeWinUITips",void 0),n([d(cc.AudioClip)],t.prototype,"leveUpClip",void 0),n([d(cc.AudioClip)],t.prototype,"dropClip",void 0),t=n([r],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./BallSc":"BallSc","./BallThemeSc":"BallThemeSc",AdUtils:"AdUtils",ConstValue:"ConstValue",PlatformBridge:"PlatformBridge",Toast:"Toast"}],Global:[function(e,t,o){"use strict";cc._RF.push(t,"ff5d1IrYM9OWqP0ppEnN+3e","Global");var a=e("ConstValue"),n=e("PlatformBridge"),l=e("AdUtils"),i={supportVersion:1,Version:"1.1.12",appVersionCode:1040300,ScriptHome:null,ScriptWatermelon:null,ScriptTasklist:null,ScriptTurnable:null,ScriptHuluPanel:null,ScriptGameLayer:null,ScriptGame:null,ScriptGameHandPK:null,UserAgent:null,TestEnv:!1,loginCallbacks:null,initCallbacks:null,userActionCallbacks:null,networkStateChangeCallbacks:null,soundEffectsEnabled:void 0,_GuideDoneWaterDrop:!1,loginInfo:null,userInfo:void 0,curSceneNode:null,networkState:void 0,initComplete:!1,isWXappInstalled:!0,dailyOnlineGoldCoinQuantity:0,dailyOnlineGoldCoinUnCommit:0,dailyOnlineGoldCoinEnable:function(){return i.dailyOnlineGoldCoinQuantity>0},setAppVersionCode:function(e){console.log("Global.setAppVersionCode() -> versionCode:"+e),i.appVersionCode=parseInt(e)},setAppVersionName:function(e){console.log("Global.setAppVersionName() -> versionName:"+e)},onAuthFromWXCallback:function(e,t,o){console.log("Global.onAuthFromWXCallback() -> success:"+e+", code:"+o+", scene:"+t);(cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?1==e:e)&&(Loading.show("gourd/login.do"),DataModel.post("gourd/login.do",{id:i.loginInfo?i.loginInfo.userId:"",code:o,mode:"2"},function(e,t){if(e)AlertDialog.show({id:"network_error",content:"\u54ce\u5440\uff0c\u597d\u50cf\u7f51\u7edc\u4e0d\u592a\u7ed9\u529b\u554a\uff01",positive:{label:"\u70b9\u51fb\u91cd\u8bd5",clickEvent:function(){}}});else{var o=JSON.parse(t);o&&0==o.code&&(i.loginInfo={token:o.token,userId:o.id,tokenExpired:!1},cc.sys.localStorage.setItem("LoginInfo",JSON.stringify(i.loginInfo)),i.updateGiftBagForNovice(i.loginInfo.token,1==o.new),i.notifyLoginCallback())}Loading.hide("gourd/login.do")}),t==a.WX_AUTH_SCENE.First_Start&&DataModel.alertDialogWxAuthFristStart&&(AlertDialog.hide(DataModel.alertDialogWxAuthFristStart),DataModel.alertDialogWxAuthFristStart=void 0))},transformOldData:function(e,t){console.log("Global.transformOldData() -> loginToken:"+e+", userId:"+t);var o=cc.sys.localStorage.getItem("LoginInfo");o?console.log("Global.transformOldData() -> localStorage exist [loginInfo]:"+JSON.stringify(o)):(console.log("Global.transformOldData() -> localStorage is not exist [loginInfo]"),e&&t&&cc.sys.localStorage.setItem("LoginInfo",JSON.stringify({token:e,userId:t})))},initSuccess:function(){console.log("Global.initSuccess() -> loginInfo:"+i.loginInfo+", initComplete:"+this.initComplete),this.initComplete||(this.initComplete=!0,this.notifyInitCallback())},setUserAgent:function(e){console.log("Global.setUserAgent() -> UA:"+e),e&&(this.UserAgent=e+" GV/"+this.Version)},refresh:function(){console.log("Global.refresh()"),i.ScriptHome&&i.loginInfo&&i.ScriptHome.updateGoldCoinsWhenRefresh()},logout:function(){console.log("Global.logout() -> \u6e38\u620f\u9000\u51fa\u767b\u5f55"),i.loginInfo=null,cc.sys.localStorage.removeItem("LoginInfo"),cc.audioEngine.stopAll(),cc.game.restart()},reloginWhenAuthenticationFailed:function(){if(i.isWXappInstalled){console.log("Global.reloginWhenAuthenticationFailed()"),i.loginInfo&&!i.loginInfo.tokenExpired&&(i.loginInfo.tokenExpired=!0,cc.sys.localStorage.setItem("LoginInfo",JSON.stringify(i.loginInfo)));var e=cc.director.getScene(),t=e&&e.getChildByName("Canvas");if(t){if(t._alertWechatAuthorizedLogin)return void console.log("Global.reloginWhenAuthenticationFailed() \u6b63\u5728\u663e\u793a[Token\u8fc7\u671f,\u91cd\u65b0\u767b\u5f55]\u5f39\u6846");t._alertWechatAuthorizedLogin=!0,AlertDialog.show({id:"wx_auth",content:"\u5fae\u4fe1\u6388\u6743\u5df2\u7ecf\u8fc7\u671f\uff0c\u9700\u8981\u60a8\u91cd\u65b0\u6388\u6743~",positive:{label:"\u5fae\u4fe1\u767b\u5f55",clickEvent:function(){t._alertWechatAuthorizedLogin=!1,n.authFromWeixin(a.WX_AUTH_SCENE.TOKEN_EXPIRED)}}})}else console.log("Global.reloginWhenAuthenticationFailed() \u5f53\u524d\u573a\u666f\u8282\u70b9\u83b7\u53d6\u5931\u8d25 curScene:"+e+", curNode:"+t)}},onNetworkStateChange:function(e){},updateGiftBagForNovice:function(e,t){var o=cc.sys.localStorage.getItem("giftBagForNovice");console.log("Global.loginSuccess() -> lastGiftBagForNovice:"+o),o&&JSON.parse(o).token==e||cc.sys.localStorage.setItem("giftBagForNovice",JSON.stringify({token:e,received:!t}));var a=cc.sys.localStorage.getItem("waterDropForNovice");console.log("Global.loginSuccess() -> lastWaterDropForNovice:"+a),a&&JSON.parse(a).token==e||cc.sys.localStorage.setItem("waterDropForNovice",JSON.stringify({token:e,received:!t}))},addUserActionCallback:function(e,t){this.userActionCallbacks||(this.userActionCallbacks={}),this.userActionCallbacks[e]=t},reportUserAction:function(){if(i.dailyOnlineGoldCoinEnable()&&this.userActionCallbacks)for(var e in this.userActionCallbacks){var t=this.userActionCallbacks[e];"function"==typeof t&&t.call(this.userActionCallbacks)}},addLoginCallback:function(e,t){this.loginCallbacks||(this.loginCallbacks={}),this.loginCallbacks[e]=t,"function"==typeof t&&i.loginInfo&&t()},addInitCallback:function(e,t){this.initCallbacks||(this.initCallbacks={}),this.initCallbacks[e]=t,console.log("Global.addInitCallback initComplete:"+this.initComplete),this.initComplete&&"function"==typeof t&&t()},notifyInitCallback:function(){if(this.initCallbacks)for(var e in this.initCallbacks){var t=this.initCallbacks[e];"function"==typeof t&&t.call(this.initCallbacks)}},notifyLoginCallback:function(){if(this.loginCallbacks)for(var e in this.loginCallbacks){var t=this.loginCallbacks[e];"function"==typeof t&&t.call(this.loginCallbacks)}},addNetworkStateChangeCallback:function(e,t){this.networkStateChangeCallbacks||(this.networkStateChangeCallbacks={}),this.networkStateChangeCallbacks[e]=t},openScene:function(e){console.log("openScene:uri="+e);var t=e.indexOf("?"),o=e.substring(t),a=decodeURI(o),n={};if(-1!=a.indexOf("?"))for(var l=a.substr(1).split("&"),i=0;i<l.length;i++){var c=l[i].split("=");n[c[0]]=c[1]}this.ScriptHome.onOpenScene(n.opensence,n.uid)},onWateringEvent:function(e,t){this.onEvent(a.EVENT_MAIN.GLOBAL_WATERING,["type : "+e],t)},onRedpacketEvent:function(e,t){this.onEvent(a.EVENT_MAIN.GLOBAL_GET_REDPACKET,["scene : "+e],t)},onEvent:function(e,t,o){if(cc.log("onEvent:"+e),null!==o&&void 0!=o)n.onEventValue(e,t,o);else if(null==t||void 0==t)n.onEvent(e);else switch(typeof t){case"string":n.onEventLabel(e,t);break;case"object":n.onEventMap(e,t)}cc.sys.isBrowser&&(_czc?(_czc.push(["_trackEvent",e,"ok",o,1,"openBtn"]),console.log("onEvent->:",e)):console.log("onEvent-error->: [_CZC not define in CocosCreator]"))},openTestMode:function(){this.TestEnv=!0},onShareToWXCallback:function(e,t){cc.log("onShareToWXCallback->"),cc.log(e);var o=!1;o=cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?1==e:e,t.indexOf("Tasklist")>=0&&this.ScriptTasklist.onClickSharingCallback(o)},onInterstitialAdCallback:function(e,t){l.onInterstitialAdCallback(e,t)},onInterstitialAdDismissCallback:function(e){l.onInterstitialAdDismissCallback(e)},onRewardAdCallback:function(e,t){cc.log("onRewardAdCallback->",e," scene:",t),cc.log(e),t.indexOf("TasklistSeeVideo")>=0?this.ScriptTasklist.onClickVideoCallback(e):t.indexOf("TurnableGetPower")>=0?this.ScriptTurnable.seeVideoCallback(e):t.indexOf("TurnableVideoDouble")>=0?this.ScriptTurnable.onClickVideoDoubleCallback(e):t.indexOf("onClickBlessBagVideoGet")>=0?this.ScriptHome.onClickBlessBagVideoGetCallback(e):t.indexOf("onClickBlessBagVideoDouble")>=0?this.ScriptHome.onClickBlessBagVideoDoubleCallback(e):t.indexOf("onClickThreeMealsDouble")>=0?this.ScriptTasklist.onClickThreeMealsDoubleCallback(e):t.indexOf("onClickSignInRemindDouble")>=0?this.ScriptTasklist.onClickSignInRemindDoubleCallback(e):t.indexOf("onClickSharingDouble")>=0?this.ScriptTasklist.onClickSharingGet(e):t.indexOf("TaskList_Item_GameRun")>=0?this.ScriptTasklist.onClickBtnGameRunAlertDoubleCallback(e,t):t.indexOf("TaskList_Item_GamePK")>=0?this.ScriptTasklist.onClickBtnGamePKAlertDoubleCallback(e,t):t.indexOf("GameLayer")>=0?this.ScriptGameLayer.onClickVideoDoubleCallback(e):t.indexOf("GameHome")>=0?this.ScriptGame.onClickVideoDoubleCallback(e):t.indexOf("handPKSeeVideoAddChance")>=0?this.ScriptGameHandPK.onClickVideoAddChanceCallback(e):t.indexOf("YeyeRunRevive")>=0?(cc.log("YeyeRunRevive",e),this.ScriptGameLayer.onClickVideoReviveCallback(e)):t.indexOf("onClickWatermelonDelete")>=0?this.ScriptWatermelon.onClickBtnDeleteBallCallback(e):t.indexOf("onClickWatermelonSuperBall")>=0?this.ScriptWatermelon.onClickBtnSuperBallCallback(e):t.indexOf("onClickWatermelonRandomBall")>=0?this.ScriptWatermelon.onClickBtnRandomBallCallback(e):t.indexOf("onClickWatermelonReplay")>=0?this.ScriptWatermelon.onClickReplayCallback(e):t.indexOf("onClickWatermelonGravityBall")>=0&&this.ScriptWatermelon.onClickBtnGravityBallCallback(e)},onSubscribeMessageCallback:function(e,t,o){cc.log("onSubscribeMessageCallback->");var n=!1;n=cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?1==e:e,o==a.SCENE_FOR_WX.SIGNIN_REMIND&&this.ScriptTasklist.onClickSignInRemindCallback(n,t,o)},isAndroidOriOSPlatform:function(){return cc.sys.platform==cc.sys.ANDROID||cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE},isWXAppInstalled:function(e){cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?(cc.log("isWXAppInstalled->"+e),i.isWXappInstalled=1==e):i.isWXappInstalled=!0,cc.log("isWXAppInstalled->"+i.isWXappInstalled)},onJinbiCallback:function(e,t){console.log("Global.onJinbiCallback currentJinbiNumber:"+e+", currentProgressTime:"+t),i.dailyOnlineGoldCoinUnCommit+=e},callCocosGameMethod:function(e){(console.log("Global.callCocosGameMethod jsonStr:"+e),"string"==typeof e)&&(JSON.parse(e).cmd==a.CallCocosCmd.Wx_Auth&&setTimeout(function(){AlertDialog.show({id:"wx_auth_withdraw",content:"\u7528\u5fae\u4fe1\u53f7\u767b\u5f55\uff0c\u91d1\u5e01\u53ef\u4ee5\u5151\u6362\uff0c\u8fd8\u53ef\u4ee5\u9080\u8bf7\u597d\u53cb\u52a9\u529b\u5f97\u6c34\u6ef4\u54e6~",negative:{label:"\u518d\u60f3\u60f3"},positive:{label:"\u5fae\u4fe1\u767b\u5f55",clickEvent:function(){i.onEvent(a.EVENT_MAIN.WXLOGIN_WITH_DRAW),n.authFromWeixin(a.WX_AUTH_SCENE.WITH_DRAW)}}})},2e3))},callCocosGameAuthMethod:function(e){console.log("Global.callCocosGameAuthMethod jsonStr:"+e),e==a.CallCocosCmd.Wx_Auth&&setTimeout(function(){AlertDialog.show({id:"wx_auth_withdraw",content:"\u7528\u5fae\u4fe1\u53f7\u767b\u5f55\uff0c\u91d1\u5e01\u53ef\u4ee5\u5151\u6362\uff0c\u8fd8\u53ef\u4ee5\u9080\u8bf7\u597d\u53cb\u52a9\u529b\u5f97\u6c34\u6ef4\u54e6~",negative:{label:"\u518d\u60f3\u60f3"},positive:{label:"\u5fae\u4fe1\u767b\u5f55",clickEvent:function(){i.onEvent(a.EVENT_MAIN.WXLOGIN_WITH_DRAW),n.authFromWeixin(a.WX_AUTH_SCENE.WITH_DRAW)}}})},2e3)}};window.Global=i,cc._RF.pop()},{AdUtils:"AdUtils",ConstValue:"ConstValue",PlatformBridge:"PlatformBridge"}],HotUpdatePanel:[function(e,t,o){"use strict";cc._RF.push(t,"8cb6aTKRuRBeKFJcBUP2rCu","HotUpdatePanel"),cc.Class({extends:cc.Component,properties:{progressBar:{default:null,type:cc.ProgressBar},labelProgress:{default:null,type:cc.Label},title:{default:null,type:cc.Label},line1:{default:null,type:cc.Node},line2:{default:null,type:cc.Node},retry:{default:null,type:cc.Button},cancel:{default:null,type:cc.Button}}}),cc._RF.pop()},{}],HotUpdate:[function(e,t,o){"use strict";cc._RF.push(t,"f2d2aQHEVdBI5MREl9+avJc","HotUpdate"),cc.Class({extends:cc.Component,properties:{manifestUrl:{type:cc.Asset,default:null},_updating:!1,_canRetry:!1,_storagePath:"",prefabHotUpdate:{default:null,type:cc.Prefab},_nodeHotUpdate:null},showUpdatePanel:function(){console.log("HotUpdate.showUpdatePanel()");null==this._nodeHotUpdate&&(this._nodeHotUpdate=cc.instantiate(this.prefabHotUpdate),this.node.addChild(this._nodeHotUpdate),this._nodeHotUpdate.setPosition(cc.v2(0,0)),this._nodeHotUpdate._script=this._nodeHotUpdate.getComponent("HotUpdatePanel"),this._nodeHotUpdate._script.retry.node.on("click",this.onClickRetry.bind(this)),this._nodeHotUpdate._script.cancel.node.on("click",this.onClickCancel.bind(this)))},onClickRetry:function(){console.log("HotUpdate.onClickRetry()");null!=this._nodeHotUpdate&&(this._nodeHotUpdate._script.title.string="\u8bf7\u7a0d\u540e\uff0c\u6b63\u5728\u66f4\u65b0\u6570\u636e...",this.retry(),this._nodeHotUpdate._script.retry.interactable=!1,this._nodeHotUpdate._script.cancel.interactable=!1)},onClickCancel:function(){console.log("HotUpdate.onClickCancel()");null!=this._nodeHotUpdate&&(this._nodeHotUpdate.active=!1,this._nodeHotUpdate.removeFromParent(!0),this._nodeHotUpdate=null)},showRetryBtn:function(){console.log("HotUpdate.showRetryBtn()");null!=this._nodeHotUpdate&&(this._nodeHotUpdate._script.title.string="\u8bf7\u7a0d\u540e\uff0c\u6b63\u5728\u66f4\u65b0\u6570\u636e...",this._nodeHotUpdate._script.retry.node.active=!0,this._nodeHotUpdate._script.cancel.node.active=!0,this._nodeHotUpdate._script.retry.interactable=!0,this._nodeHotUpdate._script.cancel.interactable=!0,this._nodeHotUpdate._script.line1.active=!0,this._nodeHotUpdate._script.line2.active=!0)},setUpdateProgress:function(e){null!=this._nodeHotUpdate&&(this._nodeHotUpdate._script.title.string="\u8bf7\u7a0d\u540e\uff0c\u6b63\u5728\u66f4\u65b0\u6570\u636e...",this._nodeHotUpdate._script.labelProgress.string="\u5df2\u5b8c\u6210 "+Math.floor(100*e)+"%",this._nodeHotUpdate._script.progressBar.progress=e)},checkCb:function(e){console.log("HotUpdate.checkCb() -> Code:"+e.getEventCode());var t=!1;switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:console.log("HotUpdate.checkCb() -> No local manifest file found, hot update skipped."),this._updating=!1;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:console.log("HotUpdate.checkCb() -> Fail to download manifest file, hot update skipped."),this._updating=!1;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:console.log("HotUpdate.checkCb() -> Already up to date with the latest remote version."),this._updating=!1;break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:console.log("HotUpdate.checkCb() -> New version found, please try to update. ("+(this._am.getTotalBytes()/1024/1024).toFixed(2)+"M)"),t=!0;break;default:return void(this._updating=!1)}this._am.setEventCallback(null),this._updating=!1,t&&(this.showUpdatePanel(),this.hotUpdate())},updateCb:function(e){var t=!1,o=!1;switch(console.log("HotUpdate.updateCb() -> Code:"+e.getEventCode()),e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:console.log("HotUpdate.updateCb() -> No local manifest file found, hot update skipped."),o=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:console.log("HotUpdate.updateCb() -> \u6b63\u5728\u66f4\u65b0:"+e.getPercent()),e.getPercent()&&this.setUpdateProgress(e.getPercent());var a=e.getMessage();a&&console.log("HotUpdate.updateCb() -> Updated file: "+a);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:console.log("HotUpdate.updateCb() -> Fail to download manifest file, hot update skipped."),o=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:console.log("HotUpdate.updateCb() -> Already up to date with the latest remote version."),o=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:console.log("HotUpdate.updateCb() -> Update finished. "+e.getMessage()),t=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:console.log("HotUpdate.updateCb() -> Update failed. "+e.getMessage()),this._updating=!1,this._canRetry=!0,this.showRetryBtn();break;case jsb.EventAssetsManager.ERROR_UPDATING:console.log("HotUpdate.updateCb() -> Asset update error: "+e.getAssetId()+", "+e.getMessage());break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:console.log("HotUpdate.updateCb() -> ERROR_DECOMPRESS. "+e.getMessage())}if(console.log("HotUpdate.updateCb() -> failed:"+o+", needRestart:"+t),o&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1),t){this._am.setEventCallback(null),this._updateListener=null;var n=jsb.fileUtils.getSearchPaths(),l=this._am.getLocalManifest().getSearchPaths();console.log("HotUpdate.updateCb() -> newPaths:"+JSON.stringify(l)),Array.prototype.unshift.apply(n,l),console.log("HotUpdate.updateCb() -> searchPaths:"+JSON.stringify(n)),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(n)),jsb.fileUtils.setSearchPaths(n),console.log("HotUpdate.updateCb() -> storagePath:"+this._storagePath);var i=this._am.getLocalManifest().getVersion();cc.sys.localStorage.setItem("HotUpdateVersion",i),cc.sys.localStorage.setItem("HotUpdateStoragePath",this._storagePath),cc.audioEngine.stopAll(),cc.game.restart()}},loadCustomManifest:function(){if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var e=new jsb.Manifest(customManifestStr,this._storagePath);this._am.loadLocalManifest(e,this._storagePath)}},retry:function(){!this._updating&&this._canRetry&&(this._canRetry=!1,this._am.downloadFailedAssets())},checkUpdate:function(){if(this._updating)console.log("HotUpdate.checkUpdate() -> Checking or updating ...");else{if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(e=cc.loader.md5Pipe.transformURL(e)),this._am.loadLocalManifest(e)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()?(console.log("HotUpdate.checkUpdate() -> \u5f53\u524d\u7248\u672c\u53f7\uff1a"+this._am.getLocalManifest().getVersion()),this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0):console.log("HotUpdate.checkUpdate() -> Failed to load local manifest ...")}},hotUpdate:function(){if(this._am&&!this._updating){if(console.log("HotUpdate.hotUpdate() -> \u5f00\u59cb\u66f4\u65b0..."),this._am.setEventCallback(this.updateCb.bind(this)),this._am.getState()===jsb.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(e=cc.loader.md5Pipe.transformURL(e)),this._am.loadLocalManifest(e)}this._failCount=0,this._am.update(),this._updating=!0}},show:function(){!1===this.updateUI.active&&(this.updateUI.active=!0)},onLoad:function(){cc.sys.isNative&&(this._storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"remote-asset",console.log("HotUpdate.onLoad() -> Storage path for remote asset : "+this._storagePath),this.versionCompareHandle=function(e,t){console.log("HotUpdate.versionCompareHandle() -> JS Custom Version Compare: version A is "+e+", version B is "+t);for(var o=e.split("."),a=t.split("."),n=0;n<o.length;++n){var l=parseInt(o[n]),i=parseInt(a[n]||0);if(l!==i)return l-i}return a.length>o.length?-1:0},this._am=new jsb.AssetsManager("",this._storagePath,this.versionCompareHandle),this._am.setVerifyCallback(function(e,t){t.compressed,t.md5,t.path,t.size;return!0}),console.log("HotUpdate.onLoad() -> Hot update is ready, please check or directly update."),cc.sys.os===cc.sys.OS_ANDROID&&(this._am.setMaxConcurrentTask(2),console.log("HotUpdate.onLoad() -> Max concurrent tasks count have been limited to 2")))},onDestroy:function(){this._updateListener&&(this._am.setEventCallback(null),this._updateListener=null)}}),cc._RF.pop()},{}],LayerRecord:[function(e,t,o){"use strict";cc._RF.push(t,"bb290zT87FMYpvyB6ugxsU0","LayerRecord");var a={layerSet:new Set,addLayer:function(e){this.layerSet.delete(e),this.layerSet.add(e),console.log("LayerRecord.addLayer Node name:"+e.node.name+", layerSet:"+this.layerSet.size)},removeLayer:function(e){this.layerSet.delete(e),console.log("LayerRecord.removeLayer Node Name:"+e.node.name+", layerSet:"+this.layerSet.size)},clear:function(){this.layerSet.clear()},onBackpress:function(){if(0==this.layerSet.size)return!1;for(var e=Array.from(this.layerSet),t=e.length-1;t>=0;t--){var o=e[t];if("function"==typeof o.onBackpress&&o.onBackpress())return console.log("LayerRecord.onBackpress ["+t+"] Node:"+o.node.name+", handle back event"),!0}return!1}};window.LayerRecord=a,cc._RF.pop()},{}],PlatformBridge:[function(e,t,o){"use strict";cc._RF.push(t,"b3aadw+Uv9K8q6KV2w4cD1A","PlatformBridge");var a="com/smart/game/cocos2dx/bridge/JavaScriptToJavaBridge",n="JavaScriptToObjectC";t.exports.initCocosSuccess=function(){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"initCocosSuccess","()V"):cc.sys.platform!=cc.sys.IPAD&&cc.sys.platform!=cc.sys.IPHONE||jsb.reflection.callStaticMethod(n,"initCocosSuccess")},t.exports.authFromWeixin=function(e){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"authFromWeixin","(Ljava/lang/String;)V",e):cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?jsb.reflection.callStaticMethod(n,"authFromWeixin:",e):cc.sys.isBrowser&&WeChatWebBridge.openWXAuthorize()},t.exports.onEvent=function(e){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"onEvent","(Ljava/lang/String;)V",e):cc.sys.platform!=cc.sys.IPAD&&cc.sys.platform!=cc.sys.IPHONE||jsb.reflection.callStaticMethod(n,"onEvent:",e)},t.exports.onEventLabel=function(e,t){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"onEvent","(Ljava/lang/String;Ljava/lang/String;)V",e,t):cc.sys.platform!=cc.sys.IPAD&&cc.sys.platform!=cc.sys.IPHONE||jsb.reflection.callStaticMethod(n,"onEvent::",e,t),cc.sys.isBrowser&&(_czc?(_czc.push(["_trackEvent",e,"ok",t,1,""]),console.log("onEvent->:",e,t)):console.log("onEvent-error->: [_CZC not define in CocosCreator]"))},t.exports.onEventMap=function(e,t){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"onEventMap","(Ljava/lang/String;Ljava/lang/String;)V",e,t):cc.sys.platform!=cc.sys.IPAD&&cc.sys.platform!=cc.sys.IPHONE||jsb.reflection.callStaticMethod(n,"onEventMap::",e,t)},t.exports.onEventValue=function(e,t,o){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"onEventValue","(Ljava/lang/String;Ljava/lang/String;I)V",e,t,o):cc.sys.platform!=cc.sys.IPAD&&cc.sys.platform!=cc.sys.IPHONE||jsb.reflection.callStaticMethod(n,"onEventValue:::",e,t,o),cc.sys.isBrowser&&(_czc?(_czc.push(["_trackEvent",e,"ok",t,o,""]),console.log("onEvent->:",e,"-",t,"-",o)):console.log("onEvent-error->: [_CZC not define in CocosCreator]"))},t.exports.showRewardAd=function(e,t,o){if(cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"showRewardAd","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,o):cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?jsb.reflection.callStaticMethod(n,"showRewardAd:::",e,t,o):cc.sys.platform==cc.sys.WECHAT_GAME&&Global.onRewardAdCallback(!1,e),cc.sys.isBrowser){var l={onError:function(e){window.webplusNativeBridge.logD("signHistory -> onError",e),window.webplusNativeBridge.showToast("\u6682\u65e0\u89c6\u9891\u8d44\u6e90\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),Global.onRewardAdCallback(!1,e)},onLoaded:function(e){window.webplusNativeBridge.logD("signHistory -> onLoaded",e)},onShowed:function(e){window.webplusNativeBridge.logD("signHistory -> onLoaded",e)},onRewarded:function(e){window.webplusNativeBridge.logD("signHistory -> onRewarded",e),Global.onRewardAdCallback(!0,e)},onClosed:function(e){window.webplusNativeBridge.logD("signHistory -> onClosed",e),Global.onRewardAdCallback(!1,e)}};window.webplusNativeBridge.showRewardAd(e,t,"J183",l)}},t.exports.showBannerAd=function(e,t,o,l,i,c,s){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"showBannerAd","(Ljava/lang/String;Ljava/lang/String;IIZIZ)V",e,t,o,l,i,c,s):cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?jsb.reflection.callStaticMethod(n,"showBannerAd::",e,t,o,l,i,c,s):(cc.sys.platform,cc.sys.WECHAT_GAME)},t.exports.hideBannerAd=function(){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"hideBannerAd","()V"):cc.sys.platform!=cc.sys.IPAD&&cc.sys.platform!=cc.sys.IPHONE||jsb.reflection.callStaticMethod(n,"hideBannerAd")},t.exports.prepareBannarAd=function(e,t,o,l,i){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"prepareBannarAd","(Ljava/lang/String;Ljava/lang/String;IIZ)V",e,t,o,l,i):cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?jsb.reflection.callStaticMethod(n,"prepareBannarAd::",e,t,o,l,i):(cc.sys.platform,cc.sys.WECHAT_GAME)},t.exports.prepareFeedAd=function(e,t,o,l,i){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"prepareFeedAd","(Ljava/lang/String;Ljava/lang/String;IIZ)V",e,t,o,l,i):cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?jsb.reflection.callStaticMethod(n,"prepareFeedAd::",e,t,o,l,i):(cc.sys.platform,cc.sys.WECHAT_GAME)},t.exports.showFeedAd=function(e,t,o,l,i,c,s){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"showFeedAd","(Ljava/lang/String;Ljava/lang/String;IIZIZ)V",e,t,o,l,i,c,s):cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?jsb.reflection.callStaticMethod(n,"showFeedAd::",e,t,o,l,i,c,s):(cc.sys.platform,cc.sys.WECHAT_GAME)},t.exports.hideFeedAd=function(){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"hideFeedAd","()V"):cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?jsb.reflection.callStaticMethod(n,"hideFeedAd"):(cc.sys.platform,cc.sys.WECHAT_GAME)},t.exports.showInterstitialAd=function(e,t,o,l){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"showInterstitialAd","(Ljava/lang/String;Ljava/lang/String;II)V",e,t,o,l):cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?jsb.reflection.callStaticMethod(n,"showInterstitialAd::",e,t,o,l):(cc.sys.platform!=cc.sys.WECHAT_GAME||Global.QQGameEnv)&&cc.sys.platform==cc.sys.WECHAT_GAME&&Global.QQGameEnv},t.exports.finish=function(){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"finish","()V"):cc.sys.platform!=cc.sys.IPAD&&cc.sys.platform!=cc.sys.IPHONE||jsb.reflection.callStaticMethod(n,"finish")},t.exports.startBrowser=function(e){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"startBrowser","(Ljava/lang/String;)V",e):cc.sys.platform!=cc.sys.IPAD&&cc.sys.platform!=cc.sys.IPHONE||jsb.reflection.callStaticMethod(n,"startBrowser:",e)},t.exports.setKeepScreenOn=function(e){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"setKeepScreenOn","(Z)V",e):cc.sys.platform!=cc.sys.IPAD&&cc.sys.platform!=cc.sys.IPHONE||jsb.reflection.callStaticMethod(n,"setKeepScreenOn:",e)},t.exports.subscribeMessageForWeixin=function(e){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"subscribeMessageForWeixin","(I)V",e):cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?jsb.reflection.callStaticMethod(n,"subscribeMessageForWeixin:",e):cc.sys.platform===cc.sys.WECHAT_GAME&&WeChatGameBridge.subscribeMessage(e)},t.exports.shareToWX=function(e,t,o,l,i){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"shareToWX","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,o,l):cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.IPHONE?jsb.reflection.callStaticMethod(n,"shareToWX:shareTitle:des:url:",e,t,o,l):(cc.sys.platform,cc.sys.WECHAT_GAME)},t.exports.startSettingActivity=function(e,t,o){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"startSettingActivity","(Ljava/lang/String;Ljava/lang/String;Z)V",e,t,o):cc.sys.platform==cc.sys.IPAD||(cc.sys.platform,cc.sys.IPHONE)},t.exports.startBrowserShowJinbi=function(e,t,o,n,l){cc.sys.platform==cc.sys.ANDROID?(console.log("startBrowserShowJinbi "),jsb.reflection.callStaticMethod(a,"startBrowserShowJinbi","(Ljava/lang/String;IIII)V",e,t,o,n,l)):cc.sys.platform==cc.sys.IPAD||(cc.sys.platform,cc.sys.IPHONE)},t.exports.checkPermission=function(e,t){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"checkPermission","(ZLjava/lang/String;)V",e,t):cc.sys.platform==cc.sys.IPAD||(cc.sys.platform,cc.sys.IPHONE)},t.exports.shareTextToWX=function(e,t){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"shareTextToWX","(Ljava/lang/String;Ljava/lang/String;)V",e,t):cc.sys.platform==cc.sys.IPAD||(cc.sys.platform,cc.sys.IPHONE)},t.exports.shareImageToWX=function(e,t){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"shareImageToWX","(Ljava/lang/String;Ljava/lang/String;)V",e,t):cc.sys.platform==cc.sys.IPAD||(cc.sys.platform,cc.sys.IPHONE)},t.exports.shareMiniProgramToWX=function(e,t,o,n,l,i,c){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"shareMiniProgramToWX","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,o,n,l,i,c):cc.sys.platform==cc.sys.IPAD||(cc.sys.platform,cc.sys.IPHONE)},t.exports.shareWebPageToWX=function(e,t,o,n,l){cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod(a,"shareWebPageToWX","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,o,n,l):cc.sys.platform==cc.sys.IPAD||(cc.sys.platform,cc.sys.IPHONE)},window.webplusJsCallback={showInterstitialAd_Callback:null,showInterstitialAd:{onError:function(e){console.log("webplusJsCallback.showInterstitialAd.onError"+e),window.webplusJsCallback.showInterstitialAd_Callback.onError(e)},onAdLoaded:function(e){console.log("webplusJsCallback.showInterstitialAd.onAdLoaded"+e),window.webplusJsCallback.showInterstitialAd_Callback.onAdLoaded(e)},onAdClose:function(e){console.log("webplusJsCallback.showInterstitialAd.onAdClose"+e),window.webplusJsCallback.showInterstitialAd_Callback.onAdClose(e)}},showRewardAd_Callback:null,showRewardAd:{onError:function(e){console.log("webplusJsCallback.showRewardAd.onError: "+e),window.webplusJsCallback.showRewardAd_Callback.onError(e)},onLoaded:function(e){console.log("webplusJsCallback.showRewardAd.onLoaded: "+e),window.webplusJsCallback.showRewardAd_Callback.onLoaded(e)},onShowed:function(e){console.log("webplusJsCallback.showRewardAd.onShowed: "+e),window.webplusJsCallback.showRewardAd_Callback.onShowed(e)},onRewarded:function(e){console.log("webplusJsCallback.showRewardAd.onRewarded"+e),window.webplusJsCallback.showRewardAd_Callback.onRewarded(e)},onVideoComplete:function(e){console.log("webplusJsCallback.showRewardAd.onVideoComplete"+e),window.webplusJsCallback.showRewardAd_Callback.onVideoComplete(e)},onClosed:function(e){console.log("webplusJsCallback.showRewardAd.onClosed"+e),window.webplusJsCallback.showRewardAd_Callback.onClosed(e)}}},window.webplusNativeBridge={logD:function(e,t){console.log("webplusNativeBridge.logD: "+e+" --\x3e "+t),window.webplusJsBridge&&window.webplusJsBridge.logD(e,t)},showToast:function(e){console.log("webplusNativeBridge.showToast: "+e),window.webplusJsBridge&&window.webplusJsBridge.showToast(e)},showRewardAd:function(e,t,o,a){console.log("webplusNativeBridge.showRewardAd: "+e),window.webplusJsCallback.showRewardAd_Callback=a,window.webplusJsBridge&&window.webplusJsBridge.showRewardAd(e,t,o)},showInterstitialAd:function(e,t,o,a){console.log("webplusNativeBridge.showInterstitialAd: "+e),window.webplusJsCallback.showInterstitialAd_Callback=a,window.webplusJsBridge&&window.webplusJsBridge.showInterstitialAd(e,t,o)},closeInterstitialAd:function(){console.log("webplusNativeBridge.closeInterstitialAd: "+showType),window.webplusJsBridge&&window.webplusJsBridge.closeInterstitialAd()},showBannerAd:function(e,t,o,a,n){console.log("webplusNativeBridge.showBannerAd: "+e),window.webplusJsBridge&&window.webplusJsBridge.showBannerAd(e,t,o,a,n)},showFeedAd:function(e,t,o,a,n){console.log("webplusNativeBridge.showFeedAd: "+e),window.webplusJsBridge&&window.webplusJsBridge.showFeedAd(e,t,o,a,n)},closeBannerOrFeedAd:function(e){console.log("webplusNativeBridge.closeBannerOrFeedAd: "+e),window.webplusJsBridge&&window.webplusJsBridge.closeBannerOrFeedAd(e)}},cc._RF.pop()},{}],RoundRectMask:[function(e,t,o){"use strict";cc._RF.push(t,"351edKyk+lBA67kvuay04F4","RoundRectMask");var a=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function a(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}}(),n=this&&this.__decorate||function(e,t,o,a){var n,l=arguments.length,i=l<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(l<3?n(i):l>3?n(t,o,i):n(t,o))||i);return l>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.RoundRectMask=void 0;var l=cc._decorator.property,i=cc._decorator.ccclass,c=cc._decorator.executeInEditMode,s=cc._decorator.disallowMultiple,r=cc._decorator.requireComponent,d=cc._decorator.menu;cc.macro.ENABLE_WEBGL_ANTIALIAS=!0;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._radius=50,t.mask=null,t}return a(t,e),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius=e,this.updateMask(e)},enumerable:!1,configurable:!0}),t.prototype.onEnable=function(){this.mask=this.getComponent(cc.Mask),this.updateMask(this.radius)},t.prototype.updateMask=function(e){var t=e>=0?e:0;t<1&&(t=Math.min(this.node.width,this.node.height)*t),this.mask.radius=t,this.mask.onDraw=this.onDraw.bind(this.mask),this.mask._updateGraphics=this._updateGraphics.bind(this.mask),this.mask.type=cc.Mask.Type.RECT},t.prototype._updateGraphics=function(){var e=this._graphics;e&&this.onDraw(e)},t.prototype.onDraw=function(e){e.clear(!1);var t=this.node,o=t.width,a=t.height,n=-o*t.anchorX,l=-a*t.anchorY;e.roundRect(n,l,o,a,this.radius||0),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?e.stroke():e.fill()},n([l()],t.prototype,"_radius",void 0),n([l({tooltip:"\u5706\u89d2\u534a\u5f84:\n0-1\u4e4b\u95f4\u4e3a\u6700\u5c0f\u8fb9\u957f\u6bd4\u4f8b\u503c, \n>1\u4e3a\u5177\u4f53\u50cf\u7d20\u503c"})],t.prototype,"radius",null),t=n([i(),c(!0),s(!0),r(cc.Mask),d("\u6e32\u67d3\u7ec4\u4ef6/\u5706\u89d2\u906e\u7f69")],t)}(cc.Component);o.RoundRectMask=h,cc._RF.pop()},{}],Toast:[function(e,t,o){"use strict";cc._RF.push(t,"33119UwlWZOL7HhqQaojmZe","Toast"),t.exports=function(e,t){void 0===e&&(e="");var o=void 0===t?{}:t,a=o.gravity,n=void 0===a?"CENTER":a,l=o.duration,i=void 0===l?2:l,c=o.bg_color,s=void 0===c?cc.color(0,0,0,128):c,r=cc.director.getScene().getComponentInChildren(cc.Canvas),d=r.node.width,h=r.node.height,u=new cc.Node,p=new cc.Node,m=p.addComponent(cc.Label);m.horizontalAlign=cc.Label.HorizontalAlign.CENTER,m.verticalAlign=cc.Label.VerticalAlign.CENTER,m.fontSize=30,m.string=e,e.length*m.fontSize>3*d/5?(p.width=3*d/5,m.overflow=cc.Label.Overflow.RESIZE_HEIGHT):p.width=e.length*m.fontSize;var f=1+~~(e.length*m.fontSize/(3*d/5));p.height=m.fontSize*f;var g=u.addComponent(cc.Graphics);g.roundRect(-p.width/2-30,-p.height/2-20,p.width+60,p.height+40,25),g.fillColor=s,g.fill(),g.strokeColor=(new cc.Color).fromHEX("#ffffff"),g.roundRect(-p.width/2-30,-p.height/2-20,p.width+60,p.height+40,25),g.stroke(),u.addChild(p),"CENTER"===n?(u.y=0,u.x=0):"TOP"===n?u.y=u.y+h/8*2:"BOTTOM"===n&&(u.y=u.y-h/8*2),r.node.addChild(u);var _=cc.callFunc(function(){u.destroy()}),y=cc.sequence(cc.moveBy(i,cc.v2(0,0)),cc.fadeOut(.3),_);u.runAction(y)},cc._RF.pop()},{}],Utils:[function(e,t,o){"use strict";cc._RF.push(t,"73cd5p1uQ9KaLTG/Gq825ox","Utils");var a={versionCompare:function(e,t){for(var o=e.split("."),a=t.split("."),n=0;n<o.length;++n){var l=parseInt(o[n]),i=parseInt(a[n]||0);if(l!==i)return l-i}return a.length>o.length?-1:0},convertToNodeSpace:function(e,t){return e.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v2(0,0)))},getClickEvent:function(e,t,o,a){var n=new cc.Component.EventHandler;return n.target=e,n.component=t,n.handler=o,n.customEventData=a,n},iconLoadingUrls:new Set,iconLoadCallback:{},loadRemote:function(e,t){var o=this;if(o.iconLoadingUrls.has(e))return o.iconLoadCallback[e]||(o.iconLoadCallback[e]=[]),void o.iconLoadCallback[e].push(t);o.iconLoadingUrls.add(e),cc.assetManager.loadRemote(e,{ext:".png"},function(a,n){var l=o.iconLoadCallback[e];l&&l.forEach(function(e,t,o){"function"==typeof e&&e(a,n)}),"function"==typeof t&&t(a,n),o.iconLoadingUrls.delete(e),o.iconLoadCallback[e]=void 0})},loadRemoteTexture:function(e,t){e&&e.length>0&&t&&a.loadRemote(e,function(o,a){!o&&t.node&&t.isValid?t.spriteFrame=new cc.SpriteFrame(a):console.log("loadRemoteTexture error! iconUrl:"+e+", node:"+t.node+", isValid:"+t.isValid+", err:"+o)})},loadSpriteFrame:function(e,t){e&&e.length>0&&t&&cc.resources.load(e,cc.SpriteFrame,function(e,o){e||(t.spriteFrame=o)})},getBezierPoints:function(e,t,o,a){for(var n=[],l=t.x,i=t.y,c=a.x,s=a.y,r=o.x,d=o.y,h=0,u=1;u<e+1;u++){h=u/e;var p=Math.pow(1-h,2)*l+2*h*(1-h)*r+Math.pow(h,2)*c,m=Math.pow(1-h,2)*i+2*h*(1-h)*d+Math.pow(h,2)*s;n.push(cc.v2(p,m))}return n},random:function(e,t){return Math.floor(Math.random()*(t+1-e)+e)},calculateDistance:function(e,t){var o=Math.abs(e.y-t.y),a=Math.abs(e.x-t.x);return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))},isNullOrUndefined:function(e){return!e&&0!=e},prefixZero:function(e,t){return(Array(t).join(0)+e).slice(-t)},secondToMMSS:function(e){var t=Math.floor(e),o=Math.floor(t/60),n=t%60;return a.prefixZero(o,2)+":"+a.prefixZero(n,2)},getLocalStorage:function(e){if(!Global.loginInfo)return 0;var t=new Date;return cc.sys.localStorage.getItem(Global.loginInfo.userId+t.toLocaleDateString()+e)},setLocalStorage:function(e,t){var o=new Date;cc.sys.localStorage.setItem(Global.loginInfo.userId+o.toLocaleDateString()+e,t)}};window.Utils=a,cc._RF.pop()},{}],WaterEffectSc:[function(e,t,o){"use strict";cc._RF.push(t,"cd5d8rJ+QRIdpg05zYhfmq5","WaterEffectSc");var a=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function a(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}}(),n=this&&this.__decorate||function(e,t,o,a){var n,l=arguments.length,i=l<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(l<3?n(i):l>3?n(t,o,i):n(t,o))||i);return l>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,i=l.ccclass,c=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.start=function(){this.node.scale=0,cc.tween(this.node).to(.2,{scale:1},{easing:cc.easeBackOut().easing}).delay(.5).to(.5,{opacity:0}).removeSelf().start(),this.node.angle=360*Math.random()},t=n([i],t)}(cc.Component));o.default=c,cc._RF.pop()},{}]},{},["AdUtils","AudioManager","AutoRotationSc","BallSc","BallThemeSc","ButtonScaler","ChooseThemeSc","ConstValue","CustomButton","GameSc","Global","HotUpdate","HotUpdatePanel","LayerRecord","PlatformBridge","RoundRectMask","Toast","Utils","WaterEffectSc"]);